(self.webpackChunklite=self.webpackChunklite||[]).push([[5231],{7893:(e,t,n)=>{"use strict";n.d(t,{G:()=>d});var r=n(59713),i=n.n(r),o=n(67294),a=n(12291),l=n(68254),c=n.n(l);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,a.$j)((function(e){return{googleAnalyticsCode:e.config.googleAnalyticsCode}}))((function(e){var t=e.googleAnalyticsCode,n=e.collectionGoogleAnalyticsId,r=n?{trackCollectionPageview:{on:"visible",request:"pageview",vars:{account:n}}}:{},i={triggers:u(u({},{trackPageview:{on:"visible",request:"pageview",vars:{account:t}}}),r)},a={__html:'<script type="application/json">'.concat(c()(i,{isJSON:!0}),"<\/script>")};return o.createElement("amp-analytics",{type:"googleanalytics",id:"google-analytics",dangerouslySetInnerHTML:a})}))},94132:(e,t,n)=>{"use strict";n.d(t,{T:()=>P});var r=n(59713),i=n.n(r),o=n(67294),a=n(28859),l=n(60046),c=n(82418),s=n(97145),u=n(42933),d=n(82318),m=n(1072),p=n(75209),f=n(37278),g=n(98024),v=n(77180),h=n(67297),y=n(67122),E=n(27952);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){var t=e.authDomain,n=e.productName;return o.createElement(u.x,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},o.createElement(u.x,{paddingBottom:"8px"},o.createElement(d.r,{href:(0,E.mX)(t)},o.createElement(f.X6,{scale:"S"},"Write a story on ",n,"."))),o.createElement(g.F,{scale:"M"},"If you have a story to tell, knowledge to share, or a perspective to offer — welcome home. It’s easy and free to post your thinking on any topic."," ",o.createElement(d.r,{href:(0,E.mX)(t),inline:!0,linkStyle:"OBVIOUS"},"Start a blog")))},P=function(e){var t=e.slimFooter,n=(0,h.v9)((function(e){return e.config.authDomain})),r=(0,h.v9)((function(e){return e.config.productName})),i=(0,v.F)(),b=S(S({},i),{},{baseColor:S(S({},i.baseColor),{},{background:{light:y.Uy(.76),normal:y.Uy(.84),dark:y.Uy(.9)},border:{lighter:y.l9(.1),light:y.l9(.2),normal:y.l9(.34),dark:y.l9(.54),darker:y.l9(.84)},fill:{lighter:y.l9(.7),light:y.l9(.8),normal:y.l9(.98),dark:y.l9(.99),darker:y.l9(1)},text:{lighter:y.l9(.7),light:y.l9(.8),normal:y.l9(.98),dark:y.l9(.99),darker:y.l9(1)}})}),P=o.useContext(a.u6),k=o.useRef(null);return o.useEffect((function(){P.updateWatchedBounds("footer",k,{type:"footer"})}),[]),o.createElement(m.f,{theme:b},o.createElement(u.x,{backgroundColor:"BASE_DARK",padding:"".concat(t?"32px":"60px"," 0"),sm:{padding:"28px 0 12px"},ref:k},o.createElement(p.P,null,t?null:o.createElement(u.x,{borderBottom:"BASE_DARK",display:"flex",justifyContent:"space-between",marginBottom:"32px",paddingBottom:"48px",sm:{display:"none"}},o.createElement(u.x,{display:"flex",justifyContent:"space-between",margin:"0 -12px"},o.createElement(u.x,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},o.createElement(u.x,{paddingBottom:"8px"},o.createElement(d.r,{href:(0,E.jQk)({authDomain:n,autoplay:!0})},o.createElement(f.X6,{scale:"S"},"Learn more."))),o.createElement(g.F,{scale:"M"},r," is an open platform where 170 million readers come to find insightful and dynamic thinking. Here, expert and undiscovered voices alike dive into the heart of any topic and bring new ideas to the surface."," ",o.createElement(d.r,{href:(0,E.jQk)({authDomain:n,autoplay:!0}),inline:!0,linkStyle:"OBVIOUS"},"Learn more"))),o.createElement(u.x,{flexGrow:"1",flexShrink:"1",flexBasis:"0",margin:"0 12px"},o.createElement(u.x,{paddingBottom:"8px"},o.createElement(d.r,{href:(0,E.a4F)(n)},o.createElement(f.X6,{scale:"S"},"Make ",r," yours."))),o.createElement(g.F,{scale:"M"},"Follow the writers, publications, and topics that matter to you, and you’ll see them on your homepage and in your inbox."," ",o.createElement(d.r,{href:(0,E.a4F)(n),inline:!0,linkStyle:"OBVIOUS"},"Explore"))),o.createElement(x,{authDomain:n,productName:r}))),o.createElement(u.x,{display:"flex",flexDirection:"column"},o.createElement(u.x,{display:"flex",flexDirection:{xs:"column",sm:"column",md:"row",lg:"row",xl:"row"},alignItems:{xs:"flex-start",sm:"flex-start",md:"center",lg:"center",xl:"center"},justifyContent:"space-between"},o.createElement(d.r,{href:"https://".concat(n,"/"),ariaLabel:"Go to homepage"},o.createElement(l.Rv,{fill:y.ix})),o.createElement(u.x,{display:"flex",justifyContent:"space-between",width:"200px",padding:{xs:"20px 0 28px",sm:"20px 0 28px",md:"0",lg:"0",xl:"0"}},o.createElement(g.F,{color:"DARKER",scale:"L"},o.createElement(d.r,{href:(0,E.jQk)({authDomain:n}),inline:!0},"About")),o.createElement(g.F,{color:"DARKER",scale:"L"},o.createElement(d.r,{href:(0,E.Zp)(n),inline:!0},"Write")),o.createElement(g.F,{color:"DARKER",scale:"L"},o.createElement(d.r,{href:(0,E.XpN)(),inline:!0},"Help")),o.createElement(g.F,{color:"DARKER",scale:"L"},o.createElement(d.r,{href:(0,E.xBX)(),inline:!0},"Legal")))),o.createElement(o.Fragment,null,o.createElement(u.x,{display:"none",sm:{display:"flex",marginTop:"0",padding:"20px 0",borderTop:"BASE_DARK"}},o.createElement(g.F,{color:"LIGHTER",scale:"L"},"Get the Medium app")),o.createElement(u.x,{display:"none",sm:{display:"flex",flexDirection:"row",marginBottom:"16px",width:"100%"}},o.createElement(u.x,{marginRight:"16px"},o.createElement(s.E,{entryPoint:"postPageFooter"})),o.createElement(u.x,null,o.createElement(c.H,{entryPoint:"postPageFooter"}))))))))}},70450:(e,t,n)=>{"use strict";n.d(t,{Y4:()=>l,NJ:()=>c,lc:()=>s});var r=n(59713),i=n.n(r),o=n(90038);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){var t=e.miroId,n=e.originalWidth,r=e.originalHeight,i=e.focusPercentX,a=e.focusPercentY,l=e.croppedWidth;if(!t)return null;var c=(0,o.vz)({miroId:t,aspectRatio:16/9,croppedWidth:l,originalWidth:n,originalHeight:r,focusPercentX:i,focusPercentY:a}),s=(0,o.vz)({miroId:t,aspectRatio:4/3,croppedWidth:l,originalWidth:n,originalHeight:r,focusPercentX:i,focusPercentY:a}),u=(0,o.vz)({miroId:t,aspectRatio:1,croppedWidth:l,originalWidth:n,originalHeight:r,focusPercentX:i,focusPercentY:a}),d=new Set([c,s,u]);return Array.from(d)}function c(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({"@type":"ImageObject"},e)}function s(e){var t=e.id,n=e.originalWidth,r=e.originalHeight;if(!t||!n||!r)return null;var i=Math.min(r,60),a=i/r,l=Math.floor(n*a);return c({width:l,height:i,url:(0,o.W6)({miroId:t,width:l,freezeGifs:!0,strategy:o._S.Resample})})}},69625:(e,t,n)=>{"use strict";n.d(t,{a:()=>p,i:()=>g});var r=n(63038),i=n.n(r),o=n(28655),a=n.n(o),l=n(71439),c=n(46829),s=n(67294),u=n(76532);function d(){var e=a()(["\n  mutation AddCollaboratorMutation($postId: ID!) {\n    addCollaborator(postId: $postId)\n  }\n"]);return d=function(){return e},e}function m(){var e=a()(["\n  fragment AddCollaborator_post on Post {\n    isPublished\n    id\n  }\n"]);return m=function(){return e},e}var p=(0,l.Ps)(m()),f=(0,l.Ps)(d()),g=function(e){var t=(0,u.H)().value,n=(0,c.useMutation)(f,{variables:{postId:e.id}}),r=i()(n,2),o=r[0],a=r[1].called;s.useEffect((function(){e.isPublished||null==t||!t.id||a||o()}),[t])}},4697:(e,t,n)=>{"use strict";n.d(t,{Xw:()=>j,e0:()=>F,Rf:()=>L});var r=n(59713),i=n.n(r),o=n(28655),a=n.n(o),l=n(71439),c=n(67294),s=n(90194),u=n(41707),d=n(1072),m=n(42933),p=n(51512),f=n(534);function g(){var e=a()(["\n  fragment NewsletterV3AmpButton_newsletterV3 on NewsletterV3 {\n    id\n    collection {\n      ...collectionDefaultBackgroundTheme_collection\n    }\n  }\n  ","\n"]);return g=function(){return e},e}var v=(0,l.Ps)(g(),f.Gi),h=function(e){var t=e.newsletterV3,n=e.buttonLayout,r=void 0===n?"MULTI-LINE":n,i=e.buttonSize,o=void 0===i?"LARGE":i,a=e.buttonStyle,l=void 0===a?"STRONG":a,g=e.redirectUrl;return c.createElement(u.Z,null,(function(e){return c.createElement(d.f,{theme:(0,f.jN)(null==t?void 0:t.collection,e)},c.createElement(p.cW,{source:{newsletterV3Id:t.id},extendSource:!0},c.createElement(m.x,{margin:"COMPACT"===r?"10px 20px 10px 0":"",xs:{margin:"10px 0 0 0"}},c.createElement(s.w,{buttonSize:o,buttonStyle:l,onClick:function(){return null},showMailIcon:!1,buttonText:"Learn more",redirectUrl:g}))))}))},y=n(11969),E=n(56202),b=n(53976),S=n(76532),x=n(73891),P=n(82318),k=n(37278),w=n(98024),_=n(95760),I=n(6688),O=n(27108),T=n(14391),N=n(67297),D=n(80637),C=n(27952);function A(){var e=a()(["\n  fragment NewsletterV3Promo_publisher on Publisher {\n    __typename\n    ... on User {\n      id\n      username\n      name\n      viewerIsUser\n      newsletterV3 {\n        id\n        ...NewsletterV3Promo_newsletterV3\n      }\n    }\n    ... on Collection {\n      id\n      slug\n      domain\n      name\n      newsletterV3 {\n        id\n        ...NewsletterV3Promo_newsletterV3\n      }\n    }\n  }\n  ","\n"]);return A=function(){return e},e}function R(){var e=a()(["\n  fragment NewsletterV3Promo_newsletterV3 on NewsletterV3 {\n    slug\n    name\n    description\n    promoHeadline\n    promoBody\n    ...NewsletterV3AmpButton_newsletterV3\n    ...NewsletterV3SubscribeButton_newsletterV3\n    ...NewsletterV3SubscribeByEmail_newsletterV3\n  }\n  ","\n  ","\n  ","\n"]);return R=function(){return e},e}var F=(0,l.Ps)(R(),v,y.B,E.Lh),L=(0,l.Ps)(A(),F),M=function(e){return i()({borderTop:"3px solid ".concat(e.accentColor.border.normal),padding:"32px 32px 26px 32px",marginTop:"8px",marginBottom:"25px",backgroundColor:e.baseColor.background.light},D.sm(e),{padding:"24px 24px 28px 24px"})},B=function(e){var t=e.isAmp,n=e.viewer,r=e.newsletterV3,i=e.newsletterV3LandingUrl,o=e.useCustomDomainLOFlow,a=e.isVertical;return t?r&&c.createElement(h,{newsletterV3:r,buttonLayout:"COMPACT",redirectUrl:i}):n||o?r&&c.createElement(y.x,{newsletterV3:r,buttonLayout:"COMPACT",helperTextColor:"DARKER",redirectUrl:o?i:void 0}):r&&c.createElement(E.QL,{newsletterV3:r,isVertical:a})},j=function(e){var t,n,r,i,o,a=e.postId,l=e.publisher,s=e.isVertical,u=void 0!==s&&s,d=c.useRef(null),f=(0,N.v9)((function(e){return e.config.authDomain})),g=(0,N.p9)((function(e){return e.config.isAmp})),v=(0,_.Av)(),h=(0,I.I)(),y=(0,S.H)().value,E=!!(0,b.VB)({name:"enable_newsletter_lo_flow_custom_domains",placeholder:!1}),D=!!(0,b.VB)({name:"enable_writer_subscription_to_all_users",placeholder:!1}),A=null==(0,N.v9)((function(e){return e.navigation.currentLocation})).match("http[s]?://[^/]*".concat(f)),R=!y&&A&&E,F=l.newsletterV3,L=null==F?void 0:F.type,j=l.username,U=void 0===j?"":j,V=(0,C.iBn)(null!==(t=null==F?void 0:F.slug)&&void 0!==t?t:"",f,L===T.Rr.NEWSLETTER_TYPE_COLLECTION?l:void 0,L===T.Rr.NEWSLETTER_TYPE_AUTHOR&&U?U:void 0),W="Collection"===l.__typename?l:void 0,H=(0,x.gY)(W).viewerEdge;switch(L){case T.Rr.NEWSLETTER_TYPE_COLLECTION:n="Sign up for ".concat(null==F?void 0:F.name),r="0px",i="You're an editor of ".concat(null==F?void 0:F.name),o=null==H?void 0:H.isEditor;break;case T.Rr.NEWSLETTER_TYPE_AUTHOR:n=D&&(null==F?void 0:F.promoHeadline)||"Get an email whenever ".concat(l.name," publishes."),r="6px",i="You cannot subscribe to yourself",o=l.viewerIsUser}var Y=!1,G=function(){!Y&&z()&&(v.event("newsletterV3.promoViewed",{newsletterV3Id:null==F?void 0:F.id,postId:a}),Y=!0)},z=function(){var e;if(!d.current)return!1;var t=null===(e=d.current)||void 0===e?void 0:e.getBoundingClientRect(),n=t.top+t.height/2;return n>=0&&n<=window.innerHeight};return c.useEffect((function(){return G(),window&&O.V6.on("scroll",G),function(){O.V6.off("scroll",G)}}),[]),F&&c.createElement(p.cW,{source:{name:"newsletter_v3_promo",susiEntry:"newsletter_v3_promo"}},c.createElement("div",{ref:d,className:u?void 0:h(M)},c.createElement(m.x,{paddingBottom:r},c.createElement(k.X6,{scale:{xs:"S",sm:"S",md:u?"S":"M",lg:u?"S":"M",xl:u?"S":"M"}},n)),L===T.Rr.NEWSLETTER_TYPE_COLLECTION&&c.createElement(c.Fragment,null,c.createElement(m.x,{paddingTop:"4px"},c.createElement(w.F,{tag:"h3",scale:"S",color:"DARKER"},"By ".concat(l.name))),c.createElement(m.x,{paddingTop:"8px",paddingBottom:"10px"},c.createElement(w.F,{scale:u?"S":{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER"},null==F?void 0:F.description," ",!g&&c.createElement(P.r,{inline:!0,linkStyle:"OBVIOUS",href:V},"Take a look.")))),D&&L===T.Rr.NEWSLETTER_TYPE_AUTHOR&&(null==F?void 0:F.promoBody)&&c.createElement(c.Fragment,null,c.createElement(m.x,{paddingTop:"8px",paddingBottom:"8px"},c.createElement(w.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER"},null==F?void 0:F.promoBody))),o?c.createElement(m.x,{paddingTop:"10px"},c.createElement(w.F,{scale:"M",color:"DARKER"},i)):c.createElement(m.x,{display:"flex",flexWrap:"wrap"},c.createElement(B,{viewer:y,isAmp:g,useCustomDomainLOFlow:R,newsletterV3:F,newsletterV3LandingUrl:V,isVertical:u}))))}},12653:(e,t,n)=>{"use strict";n.d(t,{X:()=>f,Z:()=>p});var r=n(319),i=n.n(r),o=n(72350),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EntityDrivenSubscriptionCallToAction_creator"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShouldShowEntityDrivenSubscription_creator"}}]}}].concat(i()(o.G.definitions))},l=n(956),c=n(14894),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"LIHighlightMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UpsellClickable_post"}}]}}].concat(i()(c.H.definitions))},u=n(91547),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MeterController_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"lockedSource"}},{kind:"FragmentSpread",name:{kind:"Name",value:"LIHighlightMeter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"LOHighlightMeter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_post"}}]}}].concat(i()(s.definitions),i()([{kind:"FragmentDefinition",name:{kind:"Name",value:"LOHighlightMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]),i()(u.qt.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AudioPlayback_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"audioVersionUrl"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"UpsellClickable_post"}}]}}].concat(i()(c.H.definitions))},p={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostHeader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3PostHeaderCTA_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntityDrivenSubscriptionCallToAction_creator"}}]}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"inResponseToPostResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostResult"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToPostPreview_postResult"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"layerCake"}},{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"topics"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToPostPreview_mediaResource"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MeterController_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNoteMissingNotification_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AudioPlayback_post"}}]}}].concat(i()([{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3PostHeaderCTA_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]),i()(a.definitions),i()(l.z.definitions),i()(l.K.definitions),i()(d.definitions),i()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNoteMissingNotification_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]),i()(m.definitions))},f={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostHeader_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeterController_meteringInfo"}}]}}].concat(i()([{kind:"FragmentDefinition",name:{kind:"Name",value:"MeterController_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postIds"}},{kind:"Field",name:{kind:"Name",value:"maxUnlockCount"}}]}}]))}},68225:(e,t,n)=>{"use strict";n.d(t,{z:()=>B});var r=n(63038),i=n.n(r),o=n(59713),a=n.n(o),l=n(67294),c=n(60046),s=n(43689),u=n(56862),d=n(28655),m=n.n(d),p=n(71439),f=n(6401),g=n(51562),v=n(76532),h=n(62181),y=n(42933);function E(){var e=m()(["\n  fragment StickyMetaMobileActions_publisher on Publisher {\n    __typename\n    ... on Collection {\n      slug\n      ...StickyMetaMobileActions_collection\n    }\n    ... on User {\n      username\n      id\n    }\n  }\n  ","\n"]);return E=function(){return e},e}function b(){var e=m()(["\n  fragment StickyMetaMobileActions_post on Post {\n    id\n    collection {\n      ...StickyMetaMobileActions_collection\n    }\n    pendingCollection {\n      ...StickyMetaMobileActions_collection\n    }\n  }\n  ","\n"]);return b=function(){return e},e}function S(){var e=m()(["\n  fragment StickyMetaMobileActions_collection on Collection {\n    id\n    creator {\n      id\n    }\n  }\n"]);return S=function(){return e},e}var x=function(e){var t=e.post,n=e.publisher,r=(0,v.H)().value,i="Collection"===(null==n?void 0:n.__typename)?n.slug:void 0,o="User"===(null==n?void 0:n.__typename)?n.username:null;return l.createElement(y.x,{display:"none",sm:{display:"flex",alignItems:"center",flexGrow:"1"}},!r&&l.createElement(g.W,{featureString:"lo-sticky-header",target:"sign-up-button"},l.createElement(h.R9,{buttonSize:"REGULAR",buttonStyle:"OBVIOUS",isButton:!0,operation:"register",susiEntry:"nav_reg"},"Get started")),l.createElement(f.a,{collectionSlug:i,postId:null==t?void 0:t.id,removeSpacing:!!r,username:o}))},P=(0,p.Ps)(S()),k=((0,p.Ps)(b(),P),(0,p.Ps)(E(),P),n(65849)),w=n(75209),_=n(6688),I=n(99701),O=n(27108),T=n(14391),N=n(67297),D=n(80637),C=n(89349),A=n(74465),R=n(27952),F=function(e,t,n,r){return function(i){var o;return o={},a()(o,D.sm(i),{borderTop:"1px solid ".concat(i.baseColor.border.lighter),borderBottom:"1px solid ".concat(i.baseColor.border.lighter)}),a()(o,"backgroundColor",i.backgroundColor),a()(o,"left","0"),a()(o,"opacity",e?1:0),a()(o,"position","fixed"),a()(o,"right","0"),a()(o,"top","0"),a()(o,"visibility",t?"hidden":"visible"),a()(o,"zIndex","".concat(A.ZP.metabar)),a()(o,(0,C.nk)("no-preference"),{animation:"".concat(e?n:r," .2s ease-in-out both")}),o}},L={"0%":{opacity:"0",transform:"translateY(-60px)"},"100%":{opacity:"1",transform:"translateY(0px)"}},M={"0%":{opacity:"1",transform:"translateY(0px)"},"100%":{opacity:"0",transform:"translateY(-60px)"}},B=function(e){var t=e.headerScale,n=e.post,r=e.publisher,o=(0,N.v9)((function(e){return e.config.authDomain})),a=(0,_.I)(),d=l.useState(!1),m=i()(d,2),p=m[0],f=m[1],g=l.useState(!0),v=i()(g,2),h=v[0],E=v[1],b=(0,I.o)({slideDownKeyframesName:L}).slideDownKeyframesName,S=(0,I.o)({slideUpKeyframesName:M}).slideUpKeyframesName,P=(0,k.jb)(),D=(t||P.headerScale)===T.w6.HEADER_SCALE_SMALL;return l.useEffect((function(){var e;O.V6.on("scroll_down",(function(){e=D?s.Je+160:s.Je+230,window.pageYOffset>e&&(f(!0),E(!1))})),O.V6.on("scroll_up",(function(){e=D?s.Je+160:s.Je+230,window.pageYOffset<=e&&f(!1)}))})),l.createElement("div",{className:a(F(p,h,b,S))},l.createElement(w.P,{size:"outset"},l.createElement(y.x,{display:{xs:"block",sm:"block",md:"none",lg:"none",xl:"none"},height:"60px",top:"0",width:"100%",zIndex:A.ZP.metabar},l.createElement(y.x,{display:"flex",alignItems:"center",height:"100%"},l.createElement(x,{post:n,publisher:r}),l.createElement(u.e,{href:(0,R.cWJ)(o),ariaLabel:"Homepage"},l.createElement(c.YR,null))))))}},34793:(e,t,n)=>{"use strict";n.d(t,{$:()=>d,G:()=>m});var r=n(28655),i=n.n(r),o=n(71439),a=n(67294),l=n(12598),c=n(42933),s=n(90038);function u(){var e=i()(["\n  fragment SidebarProfilePic_user on User {\n    id\n    imageId\n  }\n"]);return u=function(){return e},e}var d=function(e){var t=e.user;return t.imageId?a.createElement(c.x,{marginBottom:"20px",maxHeight:"131px",maxWidth:"131px",overflow:"hidden"},a.createElement(l.E,{src:(0,s.W6)({miroId:t.imageId,width:131,height:131,strategy:s._S.Crop}),width:131})):null},m=(0,o.Ps)(u())},56365:(e,t,n)=>{"use strict";n.d(t,{f:()=>f,w:()=>g});var r=n(28655),i=n.n(r),o=n(67154),a=n.n(o),l=n(6479),c=n.n(l),s=n(71439),u=n(67294),d=n(85489),m=n(42933);function p(){var e=i()(["\n  fragment CustomBackgroundWrapper_customStyleSheet on CustomStyleSheet {\n    id\n    global {\n      colorPalette {\n        background {\n          ...getHexFromColorValue_colorValue\n        }\n      }\n    }\n  }\n  ","\n"]);return p=function(){return e},e}var f=function(e){var t=e.children,n=e.customStyleSheet,r=c()(e,["children","customStyleSheet"]);return u.useMemo((function(){var e,t;return(0,d.eQ)(null==n||null===(e=n.global)||void 0===e||null===(t=e.colorPalette)||void 0===t?void 0:t.background)}),[n])?u.createElement(m.x,a()({backgroundColor:"BACKGROUND"},r),t):u.createElement(m.x,r,t)},g=(0,s.Ps)(p(),d.xW)},37395:(e,t,n)=>{"use strict";n.d(t,{l:()=>c});var r=n(28655),i=n.n(r),o=n(46829),a=n(71439);function l(){var e=i()(["\n  query TopicViewerEdge($topicId: ID!) {\n    topic(id: $topicId) {\n      ... on Topic {\n        id\n        viewerEdge {\n          id\n          isFollowing\n        }\n      }\n    }\n  }\n"]);return l=function(){return e},e}var c=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=(0,o.useQuery)(s,{variables:{topicId:t},ssr:!1,skip:!t}),r=n.loading,i=n.error,a=n.data;return r?{loading:r}:i?{error:i}:{viewerEdge:null==a||null===(e=a.topic)||void 0===e?void 0:e.viewerEdge}},s=(0,a.Ps)(l())},51684:(e,t,n)=>{"use strict";n.d(t,{ZR:()=>f,HX:()=>v,b2:()=>h,hE:()=>y});var r=n(59713),i=n.n(r),o=n(67294),a=n(28859),l=n(43689),c=n(75209),s=n(42933),u=n(6688),d=n(27108),m=n(89349),p=n(21146),f=131,g=function(e){return{pointerEvents:e?"auto":"none"}},v=function(e){var t=e.children,n=e.disableTransition,r=e.isFixed,d=e.scrollableRef,p=e.sidebarRef,v=e.testId,h=e.topOffset,y=e.visible,E=e.fixedWidth,b=e.extraWide,S=void 0!==b&&b,x=(0,u.I)(),P=function(e){var t,n,r,c=e.isFixed,s=void 0===c||c,u=e.disableTransition,d=void 0!==u&&u,p=e.scrollableRef,f=e.topOffset,g=e.visible,v=e.fixedWidth,h=e.extraWide,y=void 0!==h&&h,E=(r=null===(t=o.useContext(a.u6).watchedBounds.get("header"))||void 0===t||null===(n=t.ref)||void 0===n?void 0:n.current)?r.offsetTop+r.offsetHeight+64:l.Je+54+40;return function(e){return function(t){var n,r=y?"@media all and (max-width: 1240px)":(0,m.uc)(t,e,t.grid.xStep*t.grid.marginSteps.lg,p&&"current"in p?p.current:null),o=void 0===f?E:f;return n={opacity:g?1:0,pointerEvents:"none",position:s?"fixed":"absolute",willChange:"opacity, transform",width:v?"".concat(v,"px"):"100%",transform:"translateY(".concat(o,"px)"),top:0},i()(n,(0,m.nk)("no-preference"),{transition:d?"opacity 0s":"opacity 200ms"}),i()(n,r,{display:"none"}),n}}}({isFixed:r,scrollableRef:d,topOffset:h,visible:y,disableTransition:n,fixedWidth:E,extraWide:S}),k=S?197:f;return o.createElement("div",{className:x(P(k)),"data-test-id":v},o.createElement(c.P,{size:"outset"},o.createElement(s.x,{display:"flex",flexDirection:"column",width:"".concat(k,"px"),ref:p},o.createElement("div",{className:x(g(y))},t))))},h=function(e,t,n,r){if(!e)return!1;var i=r.threshold||10,o=Array.from(t.values()).filter((function(e){var t,r=e.ref,i=e.opts;return n.includes(null!==(t=i.type)&&void 0!==t?t:"")&&!!r.current})).map((function(e){var t=e.ref,n=e.opts,r=n&&n.offset,i=(0,p.L6)(t.current);return(0,p.Dd)(i,r)})),a=(0,p.L6)(e),l=0===a.width;return!o.some((function(e){return(0,p.kK)(e,a,i)}))&&!l},y=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=n?"scroll_throttled":"scroll";return function(){var n=(0,d.jC)(null!=t?t:void 0);return n.on(r,e),n.on("scroll_end",e),n.on("resize_throttled",e),function(){n.off(r,e),n.off("scroll_end",e),n.off("resize_throttled",e)}}}},52788:(e,t,n)=>{"use strict";n.d(t,{T:()=>D,Q:()=>C});var r=n(28655),i=n.n(r),o=n(63038),a=n.n(o),l=n(71439),c=n(67294),s=n(76532),u=n(12291),d=n(77284),m=n(42933),p=n(55099),f=n(19464),g=n(80362),v=n(82318),h=n(37278),y=n(98024),E=n(85277),b=n(67122);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var x=c.createElement("path",{fill:"#fff",d:"M0 0h49v57H0z"}),P=c.createElement("path",{d:"M45.95 17.53v-.04l-.05-1.55a5.32 5.32 0 0 0-5.04-5.17c-5.8-.32-10.3-2.2-14.13-5.89l-.03-.03a3.26 3.26 0 0 0-4.4 0l-.03.03c-3.84 3.7-8.33 5.57-14.13 5.89-2.79.15-5 2.42-5.04 5.18l-.05 1.54v.1c-.11 5.84-.25 13.12 2.21 19.73 1.36 3.63 3.41 6.79 6.1 9.38 3.07 2.96 7.09 5.3 11.94 6.98a3.74 3.74 0 0 0 2.4 0c4.85-1.68 8.86-4.03 11.93-6.98 2.69-2.6 4.74-5.76 6.1-9.39 2.47-6.63 2.33-13.92 2.22-19.78zm-5 18.77c-2.6 6.96-7.9 11.74-16.23 14.62a.67.67 0 0 1-.45 0c-8.32-2.87-13.63-7.65-16.23-14.61-2.27-6.1-2.14-12.78-2.03-18.67v-.03c.03-.5.04-1.04.05-1.62.02-1.22 1-2.23 2.24-2.3 3.29-.18 6.17-.81 8.83-1.92 2.64-1.1 5-2.67 7.19-4.77.1-.1.25-.1.36 0a23.11 23.11 0 0 0 7.2 4.77 26.27 26.27 0 0 0 8.82 1.92 2.36 2.36 0 0 1 2.24 2.3c0 .58.02 1.12.05 1.62.11 5.9.24 12.59-2.04 18.69z",fill:"#757575"}),k=c.createElement("path",{d:"M24.5 17.76c-7.11 0-12.9 5.4-12.9 12.04 0 6.64 5.79 12.04 12.9 12.04s12.9-5.4 12.9-12.04c0-6.64-5.79-12.04-12.9-12.04zm0 21.25c-5.44 0-9.86-4.13-9.86-9.2 0-5.08 4.42-9.21 9.86-9.21 5.44 0 9.86 4.13 9.86 9.2 0 5.08-4.42 9.2-9.86 9.2z",fill:"#757575"}),w=c.createElement("path",{d:"M28.08 25.1l-5.64 6.12-1.53-1.66c-.56-.6-1.46-.6-2.02 0-.55.6-.55 1.59 0 2.2l2.54 2.75c.28.3.65.45 1.01.45.37 0 .73-.15 1.01-.45l6.65-7.22c.55-.6.55-1.59 0-2.2-.56-.6-1.47-.6-2.02 0z",fill:"#757575"});const _=function(e){return c.createElement("svg",S({width:49,height:57,viewBox:"0 0 49 57",fill:"none"},e),x,P,k,w)};var I=(0,u.$j)()((function(e){var t=e.dispatch,n=e.isVisible,r=e.hide,i="limitedStateInterstitialDialogPopover";return c.createElement(d.V,{isVisible:n,hide:r,withCloseButton:!1,customBackgroundColor:"rgba(255, 255, 255, 0.94)"},c.createElement(m.x,{display:"flex",justifyContent:"center",paddingTop:"100px"},c.createElement(m.x,{height:"550px",width:"900px",background:b.ix,borderRadius:"4px",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",boxShadow:"0 2px 10px ".concat((0,b.Uy)(.15)),paddingBottom:"14px",md:{width:"600px",height:"auto",padding:"14px 8px"},sm:{width:"95vw !important",padding:"14px 8px"}},c.createElement(m.x,{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"},c.createElement(m.x,{paddingBottom:"24px"},c.createElement(_,null)),c.createElement(m.x,{paddingBottom:"24px",paddingRight:"24px",paddingLeft:"24px"},c.createElement(h.X6,{scale:"L"},"The following content was reported as a potential violation of Medium’s rules and is under investigation.")),c.createElement(m.x,{padding:"0 0 24px 0"},c.createElement(p.z,{buttonStyle:"BRAND",size:"REGULAR",onClick:function(){r(),t((0,E.Dx)({duration:"FOREVER",toastStyle:"LIMITED_STATE_BANNER"}))}},"I understand and want to proceed anyway"),c.createElement(f.B,null,(function(e){var t=e.isVisible,n=e.toggle,r=e.hide;return c.createElement(g.J,{ariaId:i,isVisible:t,hide:r,display:"block",customZIndex:800,popoverRenderFn:function(){return c.createElement(m.x,{padding:"15px 20px",width:"400px"},c.createElement(y.F,{scale:"S"},"Anyone can publish on Medium, provided the content adheres to Medium’s rules and policies. When Medium is made aware of potential violations, the content is manually evaluated and appropriate action taken. Some features may be disabled while the content is under review."))},placement:"top",targetDistance:15},c.createElement(m.x,{paddingTop:"10px"},c.createElement(v.r,{ariaControls:i,ariaExpanded:t?"true":"false",onClick:n},c.createElement("u",null,c.createElement(y.F,{scale:"S"},"Why am I seeing this?")))))})))),c.createElement(m.x,{display:"flex",justifyContent:"center"},c.createElement(y.F,{scale:"M"},"View our"," ",c.createElement(v.r,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",inline:!0},"Rules,")," ",c.createElement(v.r,{href:"https://medium.com/policy/medium-terms-of-service-9db0094a1e0f",linkStyle:"OBVIOUS",inline:!0},"Terms of Service")," ","&"," ",c.createElement(v.r,{href:"https://medium.com/policy/medium-partner-program-terms-fcfe9cf777b8",linkStyle:"OBVIOUS",inline:!0},"Partner Program Terms"))))))})),O=n(6688);function T(){var e=i()(["\n  fragment LimitedStateInterstitial_post on Post {\n    creator {\n      id\n    }\n    isLimitedState\n  }\n"]);return T=function(){return e},e}var N=function(e){return function(){return{filter:e?"blur(10px)":"blur(0)"}}};function D(e){var t=e.post,n=t.creator,r=t.isLimitedState,i=e.children,o=(0,s.H)().value,l=null==o?void 0:o.id,u=(0,O.I)(),d=c.useState(!1),m=a()(d,2),p=m[0],g=m[1];return c.useEffect((function(){g(!0)}),[]),r&&(n&&n.id)!==l?c.createElement(f.B,{initialVisibility:!0},(function(e){var t=e.isVisible,n=e.hide;return c.createElement(c.Fragment,null,c.createElement("div",{className:u(N(t))},i),p&&c.createElement(I,{isVisible:t,hide:n}))})):i}var C=(0,l.Ps)(T())},85714:(e,t,n)=>{"use strict";n.d(t,{Lv:()=>m,v:()=>p,QX:()=>f});var r=n(28655),i=n.n(r),o=n(71439),a=n(67294),l=n(12291),c=n(53976),s=n(85277);function u(){var e=i()(["\n  fragment SuspendedBannerLoader_post on Post {\n    id\n    isSuspended\n  }\n"]);return u=function(){return e},e}function d(){var e=i()(["\n  fragment SuspendedBannerLoader_user on User {\n    id\n    isSuspended\n  }\n"]);return d=function(){return e},e}var m=function(e){var t=e.user,n=e.post,r=e.forceLoad,i=void 0!==r&&r,o=(0,l.I0)(),u=(0,c.VB)({name:"can_view_suspended_content",placeholder:!1})||i;return a.useEffect((function(){u&&(t&&t.isSuspended?o((0,s.Dx)({duration:"NEXTPAGE",toastStyle:"USER_SUSPENDED"})):n&&n.isSuspended&&o((0,s.Dx)({duration:"NEXTPAGE",toastStyle:"POST_SUSPENDED",extraParams:{postId:(null==n?void 0:n.id)||""}})))}),[u]),null},p=(0,o.Ps)(d()),f=(0,o.Ps)(u())},94937:(e,t,n)=>{"use strict";n.d(t,{b:()=>_});var r=n(87757),i=n.n(r),o=n(48926),a=n.n(o),l=n(63038),c=n.n(l),s=n(67294),u=n(51562),d=n(76532),m=n(324),p=n(59317),f=n(4709),g=n(98281),v=n(42933),h=n(82318),y=n(98024),E=n(95760),b=n(51512),S=n(11348),x=n(8403),P=n(67297),k=n(6522),w="signin_confirmation_banner",_=function(){var e=(0,E.Av)(),t=(0,p.j)().openModal,n=s.useState(!1),r=c()(n,2),o=r[0],l=r[1],_=s.useState(!1),I=c()(_,2),O=I[0],T=I[1],N=s.useState(!0),D=c()(N,2),C=D[0],A=D[1],R=(0,d.H)().value,F=(0,P.p9)((function(e){return e.session.xsrf})),L=(0,x.PM)(),M=(0,b.P7)(L||"").name;return s.useEffect((function(){return l(!0)}),[]),s.useEffect((function(){o&&R&&(e.event("experiment.eligible",{experimentId:"b4152480e71c"}),function(){var e=a()(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.vA)(null==R?void 0:R.id,F);case 2:t=e.sent,A(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),(0,S.oy)(R.id,F))}),[o,R]),s.useEffect((function(){O&&e.event("signInConfirmationBanner.viewed",{})}),[O]),!o||!R||!M||"login"!==M||!R.createdAt||Date.now()-R.createdAt<=5*k.uD||C?null:(O||T(!0),s.createElement(b.cW,{source:{susiEntry:w},extendSource:!0},s.createElement(m.N8,null,s.createElement(f.Y,{onClose:function(){return e.event("signInConfirmationBanner.dismissed",{})}},s.createElement(v.x,{display:"flex",alignItems:"center"},s.createElement(v.x,{display:"none",marginRight:"20px",sm:{display:"flex"}},s.createElement(g.Yt,{scale:"S",user:R})),s.createElement(y.F,{color:"DARKER",scale:"M"},s.createElement(u.W,{featureString:"confirm-sign-in-banner",target:"header",tag:"span"},"Welcome back. You are signed"," ",R.mediumMemberAt?"into your member account ":"in as ",s.createElement("b",null,R.email),"."," "),s.createElement(h.r,{onClick:function(){e.event("signInConfirmationBanner.notYouClicked",{}),t({operation:"login",step:"SIGNIN_OPTIONS",susiEntry:w})},linkStyle:"OBVIOUS"},"Not you?")))))))}},4709:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var r=n(67294),i=n(28859),o=n(19464),a=n(42933),l=n(75209),c=n(3149),s=function(e){var t=e.children,n=e.onClose,s=r.useRef(null),u=r.useContext(i.u6).updateWatchedBounds;return r.createElement(o.B,{initialVisibility:!0},(function(e){var i=e.isVisible,o=e.hide;return i&&r.createElement(a.x,{backgroundColor:"BASE_LIGHT",borderBottom:"BASE_LIGHTER",borderTop:"BASE_LIGHTER"},r.createElement(l.P,null,r.createElement(a.x,{display:"flex",justifyContent:"space-between",paddingBottom:"20px",paddingTop:"20px"},t,r.createElement(c.P,{onClick:function(){n&&n(),u("byline",s,{type:"header"}),o()},isPositionAbsolute:!1,size:"REGULAR"}))))}))}},14894:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});var r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"UpsellClickable_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sequenceId"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}},55226:(e,t,n)=>{"use strict";n.d(t,{gc:()=>ln,De:()=>sn,m6:()=>un});var r=n(28655),i=n.n(r),o=n(67154),a=n.n(o),l=n(59713),c=n.n(l),s=n(63038),u=n.n(s),d=n(71439),m=n(67294),p=n(12291),f=n(28859),g=n(7893),v=n(17305),h=n(45113),y=n(9972),E=n(11334),b=n(94132),S=n(26463),x=n(62872),P=n(87508),k=n(69625),w=n(47578),_=n(42963),I=n(76532),O=n(73891),T=n(67297),N=n(27952);function D(){var e=i()(["\n  fragment MaybeRedirectToEditor_post on Post {\n    id\n    isPublished\n    collection {\n      id\n    }\n    creator {\n      id\n    }\n  }\n"]);return D=function(){return e},e}var C=function(e){var t=e.children,n=e.post,r=(0,T.v9)((function(e){return e.config.authDomain})),i=(0,I.H)().value,o=n.collection,a=n.creator&&i&&n.creator.id===i.id,l=(0,O.gY)(o).viewerEdge;return!n.isPublished&&(!o&&a||a&&null!=l&&l.canEditOwnPosts||null!=l&&l.isEditor||null!=l&&l.canEditPosts)?m.createElement(_.l,{to:(0,N.d0A)(r,n.id)}):m.createElement(m.Fragment,null,t)},A=(0,d.Ps)(D()),R=n(66371),F=n(55253),L=n(12653),M=n(70405),B=n(319),j=n.n(B),U=n(82492),V=n.n(U),W=n(68254),H=n.n(W),Y=n(70450),G=n(90038),z=n(96879),K=n(22744),X=n(61598);function q(){var e=i()(["\n  fragment PostJsonLd_post on Post {\n    id\n    title\n    seoTitle\n    mediumUrl\n    creator {\n      name\n      username\n      ...userUrl_user\n    }\n    collection {\n      id\n      name\n      domain\n      slug\n      logo {\n        id\n        originalWidth\n        originalHeight\n      }\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalWidth\n      originalHeight\n    }\n    isLocked\n    firstPublishedAt\n    updatedAt\n    isShortform\n    shortformType\n    structuredData\n    ...getTitleForPost_post\n  }\n  ","\n  ","\n"]);return q=function(){return e},e}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=(0,p.$j)((function(e){var t=e.config,n=t.productName,r=t.defaultImages,i=t.collectionStructuredData,o=e.navigation;return{currentLocation:o.currentLocation,host:o.host,productName:n,defaultImages:r,collectionStructuredData:i}}))((function(e){var t=e.currentLocation,n=e.host,r=e.post,i=e.postDescription,o=e.productName,a=e.defaultImages,l=e.collectionStructuredData,c=r.collection,s=r.creator,u=r.id,d=r.mediumUrl,p=r.isLocked,f=r.previewImage,g=r.firstPublishedAt,v=r.updatedAt,h=r.structuredData,y=(0,K._t)(r,o),E={id:a.postLogo.imageId,originalWidth:a.postLogo.width,originalHeight:a.postLogo.height},b={id:a.orgLogo.imageId,originalWidth:a.orgLogo.width,originalHeight:a.orgLogo.height},S=c?{"@type":"Organization",name:c.name,url:c.domain||(0,z.l1)(n,(0,N.WGd)(c,t)),logo:function(e){if(!e||!e.logo||!e.logo.id)return(0,Y.lc)(b);var t=(0,Y.lc)(e.logo);return t&&60===t.height&&t.width<=600?t:(0,Y.lc)(b)}(c)}:{"@type":"Organization",name:o,url:(0,z.l1)(n,"/"),logo:(0,Y.lc)(b)};c&&l&&l[c.id]&&V()(S,l[c.id].data);var x=f&&f.id?(0,Y.Y4)(Q(Q({},f),{},{miroId:f.id,croppedWidth:1200})):(0,Y.NJ)({url:(0,G.W6)({miroId:E.id,width:E.originalWidth}),height:E.originalHeight,width:E.originalWidth}),P=i||"",k=p?{isAccessibleForFree:"False",hasPart:{"@type":"WebPageElement",isAccessibleForFree:"False",cssSelector:".meteredContent"}}:{},w={"@context":"http://schema.org"},_=Q({"@type":"NewsArticle",image:x,url:d,dateCreated:g&&new Date(g).toISOString(),datePublished:g&&new Date(g).toISOString(),dateModified:v&&new Date(v).toISOString(),headline:y,name:y,description:P,identifier:u,author:s&&s.name&&s.username?{"@type":"Person",name:s.name||s.username,url:(0,N.AWr)(s,n)}:null,creator:s&&[s.name],publisher:S,mainEntityOfPage:d},k),I=Q(Q({},w),_);if(h&&h.length>0)try{var O=JSON.parse(h);if(O&&null!=O&&O["@graph"]&&(null==O?void 0:O["@graph"].length)>0){var T=((null==O?void 0:O["@graph"])||[]).filter((function(e){return(null==e?void 0:e["@type"])&&"NewsArticle"!==(null==e?void 0:e["@type"])}));T&&T.length>0&&(I=Q(Q({},w),{},{"@graph":[_].concat(j()(T))}))}}catch(e){}return m.createElement(M.q,null,m.createElement("script",{type:"application/ld+json"},H()(I,{isJSON:!0})))})),Z=(0,d.Ps)(q(),K.bq,X.$),ee=n(27390),te=n(71794);function ne(){var e=i()(["\n  fragment PostMetadata_post on Post {\n    id\n    socialTitle\n    socialDek\n    noIndex\n    curationStatus\n    canonicalUrl\n    mediumUrl\n    metaDescription\n    latestPublishedAt\n    visibility\n    isLimitedState\n    readingTime\n    creator {\n      name\n      twitterScreenName\n      ...userUrl_user\n    }\n    collection {\n      ampEnabled\n      twitterUsername\n      facebookPageId\n    }\n    previewContent {\n      subtitle\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalHeight\n      originalWidth\n    }\n    isShortform\n    noIndex\n    curationStatus\n    ...PostJsonLd_post\n    ...postMetaDescription_post\n    ...shortformPostMetaDescription_post\n    ...shouldIndexPost_post\n    ...shortformPostTitle_post\n    ...getTitleDetails_post\n    ...getTitleForPost_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return ne=function(){return e},e}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe=(0,p.$j)((function(e){return{authDomain:e.config.authDomain,host:e.navigation.host,productName:e.config.productName}}))((function(e){var t,n,r=e.isAmp,i=e.host,o=e.authDomain,a=e.productName,l=e.post,c=l.canonicalUrl,s=l.collection,u=l.creator,d=l.id,p=l.latestPublishedAt,f=l.mediumUrl,g=l.previewContent,v=l.socialTitle,h=l.socialDek,y=l.visibility,E=l.isShortform,b=s&&s.ampEnabled,S=u&&u.name,x=(0,K.yB)(l),P=l.title||"",k=x.latestTitle||P;if(E){var w=ie(ie({},l),{},{title:k});t=(0,K.oS)(w,a,x.hasTitleGraf).trim(),n=(0,te.OO)(l,x.hasTitleGraf)}else t=(0,K._t)(l,a,x,!0).trim(),n=(0,te.j7)(l);var _,I,O=h||g&&g.subtitle||n;if(l&&l.previewImage&&l.previewImage.id&&!l.isLimitedState){var T=l.previewImage;_=(0,G.vz)({miroId:T.id,aspectRatio:1.9,croppedWidth:T.originalWidth?Math.min(T.originalWidth,1200):1200,originalWidth:T.originalWidth,originalHeight:T.originalHeight,focusPercentX:T.focusPercentX,focusPercentY:T.focusPercentY})}else if(l.isLimitedState){var D={id:"1*3SjgcTt7wCYYS10ff6-0JQ.png",originalWidth:748,originalHeight:390,focusPercentX:50,focusPercentY:40};_=(0,G.vz)({miroId:D.id,aspectRatio:1.9,croppedWidth:D.originalWidth?Math.min(D.originalWidth,1200):1200,originalWidth:D.originalWidth,originalHeight:D.originalHeight,focusPercentX:D.focusPercentX,focusPercentY:D.focusPercentY})}u&&u.username&&(I=(0,N.AWr)(u,o));var C=(0,N.CK_)(d),A=!(0,K.c_)(l),R=p&&new Date(p).toISOString(),F=(0,ee.Vd)(l.readingTime||0),L=u&&u.twitterScreenName,B=s&&s.twitterUsername||"Medium",j=s&&s.facebookPageId,U=v||P||k;l.isLimitedState&&(U="");var V=l.isLimitedState?"":O,W=m.useMemo((function(){var e;return m.createElement(M.q,{htmlAttributes:r?{amp:void 0}:{}},m.createElement("meta",{property:"og:type",content:"article"}),R&&m.createElement("meta",{property:"article:published_time",content:R}),b&&!r?m.createElement("link",{rel:"amphtml",href:(0,N.VcI)(i,d)}):null,m.createElement("title",null,t),m.createElement("meta",{name:"title",content:t}),m.createElement("meta",{property:"og:title",content:U}),m.createElement("meta",{property:"twitter:title",content:U}),j&&m.createElement("meta",{property:"fb:pages",content:j}),m.createElement("meta",{name:"twitter:site",content:"@".concat(B)}),m.createElement("meta",{name:"twitter:app:url:iphone",content:C}),m.createElement("meta",{property:"al:android:url",content:C}),m.createElement("meta",{property:"al:ios:url",content:C}),m.createElement("meta",{property:"al:android:app_name",content:"Medium"}),n&&m.createElement("meta",{name:"description",content:n}),O&&m.createElement("meta",{property:"og:description",content:V}),O&&m.createElement("meta",{property:"twitter:description",content:V}),m.createElement("meta",{property:"og:url",content:null!=f?f:void 0}),m.createElement("meta",{property:"al:web:url",content:null!=f?f:void 0}),_&&m.createElement("meta",{property:"og:image",content:_}),_&&m.createElement("meta",{name:"twitter:image:src",content:_}),m.createElement("meta",{name:"twitter:card",content:_?"summary_large_image":"summary"}),I&&m.createElement("meta",{property:"article:author",content:I}),I&&m.createElement("link",{rel:"author",href:I}),L&&m.createElement("meta",{name:"twitter:creator",content:"@".concat(L)}),S&&m.createElement("meta",{name:"author",content:S}),m.createElement("link",{rel:"canonical",href:null!==(e=c||f)&&void 0!==e?e:void 0}),m.createElement("link",{rel:"alternate",href:(0,N.zix)((0,N.o2w)("medium.com",l.id))}),m.createElement("meta",{name:"robots",content:"".concat(A?"noindex":"index",",follow,max-image-preview:large")}),m.createElement("meta",{name:"referrer",content:"UNLISTED"!==y?"unsafe-url":"origin"}),r?null:m.createElement("meta",{name:"twitter:label1",content:"Reading time"}),r?null:m.createElement("meta",{name:"twitter:data1",content:"".concat(F," min read")}))}),[r,t,c,f,_,b,d,v,n,I,S,L,C,A,R]);return m.createElement(m.Fragment,null,W,m.createElement($,{post:l,postDescription:n}))})),ae=(0,d.Ps)(ne(),Z,te.iI,te.m3,K.HF,K.Pz,K.dm,K.bq,X.$),le=n(80439),ce=n(89423),se=n(1932),ue=n(32272),de=n(42933),me=n(82318),pe=n(55099),fe=n(77284),ge=n(3149),ve=n(98024),he=n(17614),ye=n(27108),Ee=n(14391),be=n(85277),Se=n(8403),xe=n(67122),Pe=n(76579);function ke(){var e=i()(["\n  fragment PostPublishedDialog_prerequisite_post on Post {\n    id\n    creator {\n      id\n    }\n    collection {\n      id\n    }\n  }\n"]);return ke=function(){return e},e}function we(){var e=i()(["\n  query PostPublishedDialogQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      ...PostPublishedDialog_post\n    }\n  }\n  ","\n"]);return we=function(){return e},e}function _e(){var e=i()(["\n  fragment PostPublishedDialog_post on Post {\n    id\n    inResponseToPostResult {\n      __typename\n    }\n    inResponseToCatalogResult {\n      __typename\n    }\n    visibility\n    curationEligibleAt\n    mediumUrl\n    isNewsletter\n    isPublishToEmail\n    creator {\n      id\n    }\n    isMarkedPaywallOnly\n    ...SharePostButton_post\n  }\n  ","\n"]);return _e=function(){return e},e}var Ie=function(){return m.createElement(de.x,null,m.createElement(me.r,{inline:!0,linkStyle:"OBVIOUS",href:(0,N.Scj)()},"Learn more")," ","about what happens to your post when you publish.")};var Oe,Te=(0,d.Ps)(_e(),ue.o),Ne=(0,d.Ps)(we(),Te),De=function(e){var t=e.url,n=e.label,r=e.post,i={postId:null==r?void 0:r.id,source:"post_publish_dialog"};return m.createElement(Pe.b,a()({url:t},i),(function(e){return m.createElement(de.x,{marginBottom:"8px"},m.createElement(pe.z,{buttonStyle:"SOCIAL",size:"REGULAR",width:"212px",onClick:function(e){return e}},m.createElement(de.x,{display:"flex",alignItems:"center",justifyContent:"center"},e?"Copied!":n)))}))},Ce=function(e){var t=e.post,n=e.isUnlisted,r=e.postPath;return m.createElement(de.x,{display:"flex",flexDirection:"column",alignItems:"center"},m.createElement(ve.F,{color:"DARKER",scale:"L"},function(e){return e?"Share your story outside Medium.":"Share your story with the world."}(n)),m.createElement(de.x,{marginTop:"20px"},!n&&m.createElement(m.Fragment,null,m.createElement(de.x,{marginBottom:"8px"},m.createElement(ue.f,{socialPlatform:"FACEBOOK",buttonStyle:"BUTTON_BRANDED",post:t})),m.createElement(de.x,{marginBottom:"8px"},m.createElement(ue.f,{socialPlatform:"TWITTER",buttonStyle:"BUTTON_BRANDED",post:t})),m.createElement(de.x,{marginBottom:"8px"},m.createElement(ue.f,{socialPlatform:"LINKEDIN",buttonStyle:"BUTTON_BRANDED",post:t}))),m.createElement(De,{url:r,label:"Copy story link",post:t})))},Ae=function(e){var t=e.viewerId,n=e.isVisible,r=e.hide,i=e.post,o=i.id,a=i.visibility,l=i.curationEligibleAt,c=i.mediumUrl,s=i.isNewsletter,u=i.isPublishToEmail,d=i.isMarkedPaywallOnly,p=i.creator,f=(0,se.T)(i),g=f.viewerEdge,v=f.loading,h="UNLISTED"===a,y=!!l,E=(null==g?void 0:g.creatorPartnerProgramEnrollmentStatus)===Ee.iR.ENROLLED,b=null==g?void 0:g.shareKey,S=(0,T.v9)((function(e){return e.config.productName})),x="Your story is published!";return u&&t===(null==p?void 0:p.id)?x="Your story has been published and sent!":s&&(x="Your newsletter is on its way!"),v?null:m.createElement(fe.V,{isVisible:n,hide:r,withAnimation:!0,withCloseButton:!1},m.createElement(de.x,{background:xe.ix,borderRadius:"4px",boxShadow:"0 2px 10px ".concat((0,xe.Uy)(.15)),position:"relative",width:"900px",textAlign:"center",md:{width:"600px"},sm:{width:"calc(100vw - 128px)"}},m.createElement(de.x,{padding:"56px",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"485px"},m.createElement(de.x,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},m.createElement(he.F1,{scale:"L",tag:"h3"},x),m.createElement(de.x,{maxWidth:"520px",marginTop:"20px"},m.createElement(ve.F,{color:"DARKER",scale:"L"},function(e,t,n,r,i,o){return r?function(e,t){return e?"Your email will be delivered to your newsletter subscribers and editors, but will not appear publicly on ".concat(t,"."):m.createElement(m.Fragment,null,"Your subscribers and editors should have it soon. It’ll also show up on ",t," readers’ homepages and Digest emails depending on their interests."," ",m.createElement(me.r,{inline:!0,linkStyle:"OBVIOUS",href:"https://help.medium.com/hc/en-us/articles/115004682167-How-to-use-Newsletters"},"Learn more"))}(e,o):e?"Your unlisted story will not appear publicly on ".concat(o,", but you can still share it."):i?"You've chosen this story to be member-only. Anyone can see a short preview but only paying members can read the full story.":n?t?m.createElement(m.Fragment,null,"As a member of the Partner Program, you’ve chosen to make this story eligible to earn money. It will be part of ",o,"’s metered paywall.",m.createElement(Ie,null)):m.createElement(m.Fragment,null,"You did not choose to make this story eligible to earn money. It will not be part of"," ",o,"’s metered paywall.",m.createElement(Ie,null)):m.createElement(m.Fragment,null,"This story isn’t currently eligible to earn money. To make this story eligible, join the"," ",o," Partner Program."," ",m.createElement(me.r,{inline:!0,linkStyle:"OBVIOUS",href:"https://medium.com/earn"},"Learn more."))}(h,y,E,s,null!=d&&d,S))),m.createElement(de.x,{paddingTop:"20px"},y&&!h&&c&&b&&m.createElement(De,{url:(0,z.Rk)((0,N.jVf)(i),{sk:b}),label:"Copy Friend Link",post:i})),m.createElement(de.x,{borderBottom:"BASE_LIGHTER",width:"100%",margin:"20px 0"})),o&&c&&m.createElement(Ce,{post:i,isUnlisted:h,postPath:(0,N.jVf)(i)})),m.createElement(ge.P,{onClick:r,size:"LARGE"})))};!function(e){e.initial="initial",e.repub="repub"}(Oe||(Oe={}));var Re=function(e){var t=e.post,n=m.useState(!1),r=u()(n,2),i=r[0],o=r[1],a=m.useCallback((function(){return o(!1)}),[o]),l=(0,p.I0)(),c=(0,Se.Wd)("postPublishedType"),s=(0,O.gY)(t.collection).viewerEdge;m.useEffect((function(){switch(c){case Oe.initial:o(!0);break;case Oe.repub:l((0,be.Dx)({duration:3e3,message:"Your changes have been published."}))}}),[c]);var d=m.useState(!1),f=u()(d,2),g=f[0],v=f[1];return g?m.createElement(ce.I,null,(function(e){return null!=e&&e.id&&(e.id===(t.creator&&t.creator.id)||t.collection&&null!=s&&s.isEditor)?m.createElement(le.AE,{ssr:!1,query:Ne,variables:{postId:t.id}},(function(t){var n=t.loading,r=t.data,o=(r=void 0===r?{}:r).post;return n||!o||o.inResponseToPostResult||o.inResponseToCatalogResult?null:m.createElement(Ae,{isVisible:i,hide:a,post:o,viewerId:e.id})})):null})):(ye.V6.on("load",(function(){return v(!0)})),null)},Fe=(0,d.Ps)(ke()),Le=n(46829),Me=n(50008),Be=n.n(Me),je=n(51684),Ue=n(83021),Ve=n(6688),We=m.forwardRef((function(e,t){var n,r=e.children,i=m.useRef(null),o=m.useRef(null),a=m.useContext(f.u6).watchedBounds,l=m.useState(!0),c=u()(l,2),s=c[0],d=c[1],p=m.useState(0),g=u()(p,2),v=g[0],h=g[1],y=function(e){var t,n="object"===Be()(e)?null==e?void 0:e.current:null,r=null==n?void 0:n.getBoundingClientRect();return 100+(null!==(t=null==r?void 0:r.top)&&void 0!==t?t:0)}(t),E=null===(n=i.current)||void 0===n?void 0:n.offsetHeight,b=(0,Ve.I)(),S=.45*window.innerHeight-20,x=E?window.innerHeight-E-20:S-20,P=m.useCallback((function(){var e;!function(e,t,n,r){e.current&&n((0,je.b2)(e.current,t,["image","bgimage","footer","byline","title","header"],{threshold:10}))}(i,a,d);var t=(0,Ue.Ui)(v,y,null===(e=i.current)||void 0===e?void 0:e.clientHeight);t!==v&&h(t);var n=1320,r=window.innerWidth-n;null!=o&&o.current&&(window.innerWidth>=n&&(o.current.style.right="".concat(r,"px")),window.innerWidth<n&&(o.current.style.right="0px"))}),[a,v,y]);m.useEffect((function(){P(),window.scroll(0,2),window.scroll(0,0)}),[]);var k="object"===Be()(t)?t:null;m.useEffect((0,je.hE)(P,null==k?void 0:k.current),[P,null==k?void 0:k.current]);var w=s;return m.createElement("div",{className:b({minWidth:"300px",position:"fixed",right:"0"}),ref:o},m.createElement(je.HX,{sidebarRef:i,scrollableRef:t,visible:w,topOffset:x,isFixed:!0,extraWide:!0},m.createElement(de.x,null,r)))})),He=n(52818),Ye=n(51512),Ge=n(15699);function ze(){var e=i()(["\n  query FetchRecirc($postId: String) {\n    recirc(postId: $postId) {\n      items {\n        ... on RexRecircItem {\n          post {\n            id\n            ...ReadNextPostCard_post\n            ...PostPresentationTracker_post\n          }\n          feedId\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return ze=function(){return e},e}var Ke=function(e){var t;return{fontWeight:null!==(t=e.newFonts.detail.boldWeight)&&void 0!==t?t:"bold"}},Xe=function(e){var t,n=e.postId,r=(0,Le.useQuery)(qe,{variables:{postId:n}}),i=r.data,o=r.loading,a=r.error,l=(0,Ve.I)(),c=null==i||null===(t=i.recirc)||void 0===t?void 0:t.items;if(a||o||null==c||!c.length)return null;var s=c.slice(0,4);return m.createElement(We,null,m.createElement(de.x,null,m.createElement(ve.F,{scale:"M",color:"LIGHTER"},m.createElement("strong",{className:l(Ke)},"Related")),m.createElement(de.x,{display:"flex",flexDirection:"column",marginTop:"24px",bottom:"40px"},s.map((function(e,t){return null!=e&&e.post?m.createElement(Ye.cW,{source:{name:"read_next_recirc",index:t,feedId:e.feedId||void 0},key:"post-page-read-next-recirc".concat(n,"-").concat(t)},m.createElement(Ge.o,{post:e.post,presentationContext:"POST_PREVIEW"},m.createElement(He.N,{post:e.post,shouldDisplayTopic:!1,shouldDisplayClapCount:!0}))):null})))))},qe=(0,d.Ps)(ze(),He.Q,Ge.h);function Je(){var e=i()(["\n  query FetchRecircLO($postId: ID!) {\n    post(id: $postId) {\n      internalLinks {\n        items {\n          id\n          ...ReadNextPostCard_post\n          ...PostPresentationTracker_post\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return Je=function(){return e},e}var Qe=function(e){var t;return{fontWeight:null!==(t=e.newFonts.detail.boldWeight)&&void 0!==t?t:"bold"}},$e=function(e){var t,n,r=e.postId,i=(0,Le.useQuery)(Ze,{variables:{postId:r}}),o=i.data,a=i.loading,l=i.error,c=(0,Ve.I)(),s=null==o||null===(t=o.post)||void 0===t||null===(n=t.internalLinks)||void 0===n?void 0:n.items;if(l||a||null==s||!s.length)return null;var u=s.slice(0,4);return m.createElement(We,null,m.createElement(de.x,null,m.createElement(ve.F,{scale:"M",color:"LIGHTER"},m.createElement("strong",{className:c(Qe)},"Related")),m.createElement(de.x,{display:"flex",flexDirection:"column",marginTop:"24px",bottom:"40px"},u.map((function(e,t){return e?m.createElement(Ye.cW,{source:{name:"read_next_recirc",index:t},key:"post-page-read-next-recirc-lo-".concat(r,"-").concat(t)},m.createElement(Ge.o,{post:e,presentationContext:"POST_PREVIEW"},m.createElement(He.N,{post:e,shouldDisplayTopic:!1,shouldDisplayClapCount:!0}))):null})))))},Ze=(0,d.Ps)(Je(),He.Q,Ge.h),et=n(49925),tt=n(10103),nt=n(59877);function rt(){var e=i()(["\n  fragment PostScreenThemeProvider_post on Post {\n    collection {\n      ...CustomThemeProvider_publisher\n      ...auroraHooks_publisher\n    }\n    creator {\n      ...CustomThemeProvider_publisher\n      ...auroraHooks_publisher\n    }\n    customStyleSheet {\n      ...CustomThemeProvider_customStyleSheet\n    }\n  }\n  ","\n  ","\n  ","\n"]);return rt=function(){return e},e}var it,ot=function(e){var t=e.children,n=e.post,r=n.collection||n.creator,i=(0,et.GT)(r),o=n.customStyleSheet;return i?m.createElement(tt.G8,{customStyleSheet:o,publisher:r},t):m.createElement(tt.G8,{customStyleSheet:null,publisher:r},m.createElement(nt.r,null,t))},at=(0,d.Ps)(rt(),tt.Kc,tt.Ps,et.C5),lt=n(62182),ct=n(50493),st=n(15789),ut=n(80870),dt=n(50188),mt=n(7766),pt=n(68225),ft=n(56365),gt=function(e){var t=e.children,n=e.rule,r=(0,Ve.I)(),i=n?r(n):"";return i?m.createElement("div",{className:i},t):m.createElement(m.Fragment,null,t)},vt=n(85489),ht=n(73788),yt=n(53976),Et=n(47552),bt=n(36511),St=n(37395),xt=n(32589),Pt=n(52788),kt=n(85714),wt=n(51562),_t=n(324),It=n(37258),Ot=n(19608),Tt=n(27168),Nt=n(48881),Dt=n(59317),Ct=n(4709),At=n(98281),Rt=n(95760),Ft=n(33572),Lt=n(81591),Mt=n(69332),Bt="alternate_user_top_banner",jt=function(e){var t=e.userSocialLogins,n=(0,Dt.j)().openModal;return t.facebook||t.google||t.twitter?m.createElement(Ot.r,{userSocialLogins:t}):m.createElement(It.o,{onSuccess:function(){return n({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:Bt})},userId:t.userId},(function(e){var t=e.handleSubmit;return m.createElement(pe.z,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")}))},Ut=function(){var e=(0,I.H)().value,t=(0,bt.r)().viewerId,n=(0,p.I0)(),r=(0,Rt.Av)(),i=m.useState(!1),o=u()(i,2),a=o[0],l=o[1],c=m.useState("loading"),s=u()(c,2),d=s[0],f=s[1];return m.useEffect((function(){n((0,Mt.e6)(!0)),l(!0)}),[]),m.useEffect((function(){"rendered"===d&&n((0,Lt.T)(!0)),"not_eligible"===d&&n((0,Mt.e6)(!1))}),[d]),m.createElement(Ye.cW,{source:{susiEntry:Bt}},m.createElement(Nt.o,{postRenderCallback:function(e,n,i){f(n?"rendered":"not_eligible"),n&&(r.event("experiment.eligible",{experimentId:"358323e239a2"}),r.event("alternateUserBanner.viewed",{alternateUserSuggestionAccountType:(0,Ft.S)(i),alternateUserSuggestionTargetUserId:i.userId,alternateUserSuggestionSourceUserId:t}))}},(function(n){var i,o=n.showSuggestedAccount,l=n.declineSuggestedAccount,c=n.userSocialLogins;return a&&o&&l&&c?m.createElement(_t.N8,null,m.createElement(Ct.Y,{onClose:function(){return r.event("alternateUserBanner.dismissed",{alternateUserSuggestionAccountType:(0,Ft.S)(c),alternateUserSuggestionTargetUserId:c.userId,alternateUserSuggestionSourceUserId:t})}},m.createElement(de.x,{alignItems:"flex-start",display:"flex",flexDirection:"column",sm:{alignItems:"center"}},m.createElement(de.x,{alignItems:"center",display:"flex",marginBottom:"21px",sm:{flexDirection:"column",margin:"0 21px 21px",textAlign:"center"}},!e&&(null===(i=c.userAvatar)||void 0===i?void 0:i.imageId)&&m.createElement(de.x,{display:"flex",marginRight:"20px",sm:{marginBottom:"18px",marginRight:"0"}},m.createElement(At.Yt,{scale:"S",user:{__typename:"User",id:c.userId,name:c.userAvatar.name,username:c.userAvatar.username,imageId:c.userAvatar.imageId,mediumMemberAt:c.userAvatar.mediumMemberAt,customDomainState:null,hasSubdomain:!1}})),m.createElement(wt.W,{featureString:"alternate-user-top-banner",target:"header"},m.createElement(ve.F,{color:"DARKER",scale:"M"},function(e,t){var n=t.isMember,r=t.redactedEmailAddress;return m.createElement(m.Fragment,null,e?"Switch":"Sign in"," to your ",n?"member ":"","account (",m.createElement("b",null,r),") for",n?" unlimited access":" your personalized experience",".")}(e,c)))),m.createElement(de.x,{alignItems:"center",display:"flex",sm:{flexDirection:"column"}},m.createElement(jt,{userSocialLogins:c}),m.createElement(de.x,{margin:"0 12px",sm:{margin:"24px 0 0"}},m.createElement(Tt.G,{declineSuggestedAccount:l,isSocial:!!(c.facebook||c.google||c.twitter)})))))):m.createElement(m.Fragment,null)})))},Vt=n(94937),Wt=n(35285),Ht=n(66210),Yt=n(58491),Gt=n(11348),zt=n(31517),Kt=n(172),Xt=n(8261),qt=n(97963),Jt=n(30389),Qt=n(27140),$t=n(6639),Zt=n(65441);function en(){var e=i()(["\n  fragment PostScreen_post on Post {\n    id\n    canonicalUrl\n    collection {\n      id\n      domain\n      googleAnalyticsId\n      slug\n      ...CollectionMetabar_collection\n      ...MetaHeader_publisher\n      ...auroraHooks_publisher\n    }\n    # please note that the postMeteringOptions are defined in the postHandler file\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      validatedShareKey\n    }\n    creator {\n      customStyleSheet {\n        id\n        ...PostSidebar_customStyleSheet\n      }\n      ...SuspendedBannerLoader_user\n      ...MetaHeader_publisher\n      ...UserCompleteProfileDialog_user\n      ...auroraHooks_publisher\n      ...TruncatedPostCard_user\n    }\n    customStyleSheet {\n      id\n      postBody {\n        ...SupportedContainerStyles_styleNode\n      }\n      ...CustomBackgroundWrapper_customStyleSheet\n      ...MetaHeader_customStyleSheet\n      ...PostSidebar_customStyleSheet\n    }\n    firstPublishedAt\n    isLocked\n    isPublished\n    isShortform\n    layerCake\n    primaryTopic {\n      name\n      slug\n    }\n    title\n    isMarkedPaywallOnly\n    ...AddCollaborator_post\n    ...InteractivePostBody_post\n    ...LimitedStateInterstitial_post\n    ...MaybeRedirectToEditor_post\n    ...Metabar_post\n    ...Wall_post\n    ...PostBodyInserts_post\n    ...PostFooter_post\n    ...PostHeader_post\n    ...PostMetadata_post\n    ...PostPublishedDialog_prerequisite_post\n    ...PostReadTracker_post\n    ...PostScreenThemeProvider_post\n    ...PostScrollTracker_post\n    ...PostSidebar_post\n    ...SuspendedBannerLoader_post\n    ...buildBranchViewData_post\n    ...optimizelyData_post\n    ...TableOfContents_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return en=function(){return e},e}function tn(){var e=i()(["\n  fragment PostScreen_meteringInfo on MeteringInfo {\n    __typename\n    postIds\n    maxUnlockCount\n    unlocksRemaining\n    ...PostHeader_meteringInfo\n    ...Wall_meteringInfo\n    ...buildBranchViewData_meteringInfo\n  }\n  ","\n  ","\n  ","\n"]);return tn=function(){return e},e}function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.initial="initial",e.repub="repub"}(it||(it={}));var on=function(e){return(0,vt.fl)(null==e?void 0:e.postBody)},an=function(){return null};function ln(e){var t,n,r,i,o,a,l=e.meteringInfo,c=e.post,s=c.id,d=c.isPublished,y=c.isLocked,E=c.isShortform,S=c.content,x=c.collection,_=c.canonicalUrl,D=c.creator,A=(0,p.I0)(),L=(0,Rt.Av)(),M=(0,Se.PM)(),B=(0,T.v9)((function(e){return e.config.authDomain})),j=(0,T.v9)((function(e){return e.navigation.currentHash})),U=(0,T.p9)((function(e){return e.config.isAmp})),V=(0,T.v9)((function(e){return e.navigation.referrer})),W=(0,Jt.P)(),H=W.inAppBrowser,Y=W.loading,G=(0,xt.Pd)(D),z=G.viewerEdge,K=G.loading,X=(0,O.gY)(c.collection),q=X.viewerEdge,J=X.loading,Q=(0,St.l)(null===(t=c.primaryTopic)||void 0===t?void 0:t.id),$=Q.viewerEdge,Z=Q.loading,ee=J||K||Z,te=m.useRef(null),ne=(0,I.H)().value;U&&(ne=void 0);var re=!!ne,ie=x||{},ae=ie.id,le=ie.slug,ce=ie.googleAnalyticsId,se=S||{},ue=se.isLockedPreviewOnly,de=se.validatedShareKey,me=ce?[ce]:null;(0,v.t)({ids:me,isAmp:U}),(0,Ht.V)(te,c),(0,Yt.t)(re,te,c),(0,k.i)(c);var pe=(0,et.GT)(x||D),fe=E&&pe,ge=(0,Qt.D)(pe),ve=(0,Ye.P7)(M||"").dimension,he=!("digest.reader"!==(void 0===ve?"":ve))&&!ue&&re&&!(null!=z&&z.isUser)&&!(null!=z&&z.isFollowing)&&((null==z?void 0:z.readPostsCount)||0)>=3,ye=m.useState(he),Ee=u()(ye,2),be=Ee[0],xe=Ee[1];m.useEffect((function(){xe(he)}),[]);var Pe=(0,R.Dj)(c,{shouldInsertCreatorPromo:be}),ke=(0,Se.Wd)("postPublishedType"),we=(0,bt.r)(),_e=we.loading,Ie=we.viewerId;m.useEffect((function(){if(!_e&&Ie&&!Y&&!ee){if(d){re||(c.isLocked?(0,Gt.yB)():(0,Gt.B8)());var e=(0,h.RD)({inAppBrowser:H,post:c,meteringInfo:l,referrer:V,referrerSource:M,viewer:ne,currentUserId:Ie,creatorViewerEdge:z,collectionViewerEdge:q,topicViewerEdge:$});x&&x.domain&&(e.data.$canonical_url=(0,N.o2w)(B,c.id));var t=ne&&ne.name?(0,Ft.J)(ne.name):void 0;(0,w.KQ)({post:c},t),(0,h.Pu)(e),A((0,Kt.aj)(e)),A((0,Kt.QZ)()),function(e,t){var n;e===it.initial&&(null!==(n=t.collection)&&void 0!==n&&n.id?(0,w.VT)(w.Vy.PostPublishedCollection):(0,w.VT)(w.Vy.PostPublished),(0,w.VT)(w.Vy.PostPublishedAggregate))}(ke,c),L.event("post.clientViewed",{postId:s,collectionId:ae,collectionSlug:le,context:1,isFriendLink:!!de})}else L.event("post.draftViewed",{postId:s});return re||(0,dt.kD)(s),function(){A((0,Kt.Uo)())}}}),[s,d,_e,Ie,Y,H,ne,ee]),m.useEffect((function(){L.event("experiment.eligible",{experimentId:"bf31c326fe09"})}),[]),(0,qt.T)(c.customStyleSheet);var Oe=(0,Se.Wd)("readmore");m.useEffect((function(){var e;if(Oe){var t=document.getElementById(Zt.W);if(t){var n=window.matchMedia&&(null===(e=window.matchMedia("(prefers-reduced-motion: reduce)"))||void 0===e?void 0:e.matches);setTimeout((function(){var e=Math.max(t.offsetTop-window.innerHeight/2,0);window.scrollY<=e&&window.scrollTo({top:e,behavior:n?void 0:"smooth"})}))}}}),[Oe]);var Te=m.useState(null==D?void 0:D.hasCompletedProfile),Ne=u()(Te,2),De=Ne[0],Ce=Ne[1],Ae=(0,Wt.WI)(D).shouldShowDialog&&!De&&(!(null!=D&&D.name)||!(null!=D&&D.bio)||!(null!=D&&D.imageId));ge!==pe&&A((0,zt.t)(pe));var Fe,Le,Me=y?{className:"meteredContent"}:{};if(j){var Be=j.split("-");Fe=Be[0],Le=Be[1]}var je=x&&c.customStyleSheet&&null!=c&&null!==(n=c.creator)&&void 0!==n&&null!==(r=n.customStyleSheet)&&void 0!==r&&r.blogroll?rn(rn({},c.customStyleSheet),{},{blogroll:null==c||null===(i=c.creator)||void 0===i||null===(o=i.customStyleSheet)||void 0===o?void 0:o.blogroll}):c.customStyleSheet,Ue=(0,T.v9)((function(e){return e.client.hydrated})),Ve=((0,$t.HE)(V,M)||(0,$t.yu)(V))&&Ue,We=null==M?void 0:M.includes("read_next_recirc"),He=Ve||We,Ge=!!(0,yt.VB)({name:"enable_recirc_reboot",placeholder:!1}),ze=!!(0,yt.VB)({name:"enable_recirc_reboot_lo",placeholder:!1});return m.createElement(m.Fragment,null,m.createElement(C,{post:c},m.createElement(oe,{isAmp:U,post:c}),m.createElement(kt.Lv,{post:c,user:D,forceLoad:(null===(a=ne)||void 0===a?void 0:a.id)===(null==D?void 0:D.id)}),m.createElement(ot,{post:c},m.createElement(ft.f,{customStyleSheet:c.customStyleSheet},m.createElement(cn,{post:c}),m.createElement(ht.k,{post:c},m.createElement(gt,{rule:on(c.customStyleSheet)},m.createElement(f.Am,null,m.createElement(Ut,null),m.createElement(Vt.b,null),m.createElement("article",Me,m.createElement(F.m,{post:c,meteringInfo:l}),m.createElement(Pt.T,{post:c},m.createElement(st.bl,{activeGrafId:Fe,activeNoteId:Le,isAuroraPostPageEnabled:pe,post:c,postBodyInserts:Pe,ref:te,shouldHideHighlightAnnotations:He&&Ge}))),!ue&&!!d&&!fe&&m.createElement(lt.PostSidebar,{customStyleSheet:je,post:c,extraWide:!0}),m.createElement(Et.b,{name:"enable_recirc_reboot",placeholder:an},(function(e){return e&&He&&re?m.createElement(Xe,{postId:c.id}):null})),m.createElement(Et.b,{name:"enable_recirc_reboot_lo",placeholder:an},(function(e){return e&&He&&!re?m.createElement($e,{postId:c.id}):null})),m.createElement(P.cu,{post:c,meteringInfo:l,isSidebarRecircDisplayed:ze&&He}),!ue&&m.createElement(ut.zX,{post:c})))),m.createElement(Re,{post:c}),!!d&&!ee&&m.createElement(b.T,{slimFooter:pe}))),U&&m.createElement(m.Fragment,null,m.createElement(Xt.x,{json:(0,Xt.J)({postId:s,collectionId:ae,canonicalUrl:_,referrer:V},B)}),m.createElement(g.G,{collectionGoogleAnalyticsId:ce}))),Ae&&!!D&&!c.collection&&m.createElement(Wt.fY,{user:D,confirmText:"Done",setHasCompletedProfile:Ce}))}var cn=function(e){var t,n,r=e.post,i=r.collection,o=r.content,l=i||r.creator,c=(0,et.GT)(l),s=(0,T.p9)((function(e){return e.config.isAmp})),u=o.bodyModel&&o.bodyModel.paragraphs[0],d=u&&u.type===Ee.NJ.IMG&&u.layout===Ee.ms.FULL_WIDTH;if(l&&c)return m.createElement(de.x,{marginBottom:d?"0":"36px",sm:{marginBottom:d?"0":"20px"}},m.createElement(mt.Go,{publisher:l,customStyleSheet:r.customStyleSheet,post:r,forceSmall:!0}),m.createElement(pt.z,{headerScale:null===(t=r.customStyleSheet)||void 0===t||null===(n=t.header)||void 0===n?void 0:n.headerScale,post:r,publisher:l}));var p={behavior:x.W.Aggressive,isAmp:s,isFixed:!1,post:r};if(i)return m.createElement(y.NL,a()({},p,{collection:i}));var f=r.layerCake,g=r.primaryTopic,v=f&&(1===f||2===f||3===f),h=v?g:null;return m.createElement(S.kw,a()({},p,{isMonogramOnly:!v,marginBottom:0,marginBottomSm:0,topic:h}))},sn=(0,d.Ps)(tn(),L.X,P.Y6,h.PI),un=(0,d.Ps)(en(),k.a,y.JE,ft.w,st.Uw,Pt.Q,A,S.v7,mt.aU,mt.Mv,lt.PostSidebar_customStyleSheet,P.rU,R.Cs,ut.F9,L.Z,ae,Fe,Yt.W,at,Ht.k,lt.PostSidebar_post,vt._3,kt.QX,kt.v,Wt.xe,et.C5,h.ir,w.ne,ct.tA,E.Dc)},8261:(e,t,n)=>{"use strict";n.d(t,{J:()=>l,x:()=>c});var r=n(67294),i=n(68254),o=n.n(i),a=n(27952),l=function(e,t){var n=e.postId,r=e.collectionId,i=e.canonicalUrl,o=e.referrer;return{requests:{base:(0,a.vuB)(t),pageview:(0,a.CXS)(),scrollPing:(0,a.y4K)()},vars:{postId:n,collectionId:r,canonicalUrl:i,referrer:o},triggers:{defaultPageview:{on:"visible",request:"pageview"},scrollDepths:{on:"scroll",scrollSpec:{verticalBoundaries:[0,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100]},request:"scrollPing"}},transport:{beacon:!1,xhrpost:!1,image:!0}}};function c(e){var t={__html:'<script type="application/json">'.concat(o()(e.json,{isJSON:!0}),"<\/script>")};return r.createElement("amp-analytics",{id:"medium-analytics",dangerouslySetInnerHTML:t})}},97963:(e,t,n)=>{"use strict";n.d(t,{T:()=>o});var r=n(67294),i=n(34019),o=function(e){var t=r.useCallback((function(){e&&Array.from(document.getElementsByTagName("iframe")).forEach((function(t){null!=t&&t.contentWindow&&t.contentWindow.postMessage(JSON.stringify({context:"medium.customStyleSheet",customStyleSheet:e}),"*")}))}),[e]);(0,i.r)("medium.getCustomStyleSheet",t)}},34019:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});var r=n(67294),i=function(e,t){r.useEffect((function(){if("undefined"!=typeof window){var n=function(n){if(n.data){var r,i;try{i=JSON.parse(n.data)}catch(e){}(null===(r=i)||void 0===r?void 0:r.context)===e&&t(i)}};return window.addEventListener("message",n),function(){window.removeEventListener("message",n)}}}),[t,e])}},71794:(e,t,n)=>{"use strict";n.d(t,{j7:()=>d,OO:()=>m,iI:()=>p,m3:()=>f});var r=n(28655),i=n.n(r),o=n(71439),a=n(14391),l=n(22744),c=n(50993);function s(){var e=i()(["\n  fragment shortformPostMetaDescription_post on Post {\n    id\n    metaDescription\n    seoDescription\n    shortformType\n    title\n    ...getPostContentAsString_post\n  }\n  ","\n"]);return s=function(){return e},e}function u(){var e=i()(["\n  fragment postMetaDescription_post on Post {\n    id\n    title\n    seoDescription\n    metaDescription\n    creator {\n      id\n      name\n    }\n    collection {\n      id\n      name\n    }\n    previewContent {\n      subtitle\n    }\n    ...getPostContentAsString_post\n  }\n  ","\n"]);return u=function(){return e},e}var d=function(e){return function(e){var t=e.metaDescription,n=e.seoDescription,r=e.title||"";if(n)return n;if(t)return t;var i=function(e){var t=(0,l.r4)(e,250);return t&&(0,c.N8)(t,200)}(e);if(i.length>150)return i;var o=e.previewContent&&e.previewContent.subtitle||"";if(o.length>140)return o;o.length>0&&(o+=".");var a=(r.length?r+". ":"")+o;if(a.length>140)return a;var s="“".concat(r,"” is published");return e.creator&&e.creator.name&&(s+=" by ".concat(e.creator.name)),e.collection&&e.collection.name&&(s+=" in ".concat(e.collection.name)),"".concat(o," ").concat(s,".")}(e).trim()},m=function(e,t){var n=e.metaDescription,r=e.seoDescription,i=e.shortformType,o=i===a.po.SHORTFORM_TYPE_NOTE||!i;if(r)return r;if(n)return n;if(o&&t){var s=(0,l.r4)(e,350,0);return(0,c.N8)(s,300)}return""},p=(0,o.Ps)(u(),l.bh),f=(0,o.Ps)(s(),l.bh)},22744:(e,t,n)=>{"use strict";n.d(t,{r4:()=>I,bh:()=>O,yB:()=>T,dm:()=>N,lO:()=>A,Bg:()=>R,_t:()=>F,bq:()=>L,oS:()=>M,Pz:()=>B,c_:()=>j,HF:()=>U});var r=n(59713),i=n.n(r),o=n(28655),a=n.n(o),l=n(71439),c=n(90584),s=n(4743),u=n(14391),d=n(398),m=n(50993);function p(){var e=a()(["\n  fragment shouldIndexPost_post on Post {\n    id\n    firstPublishedAt\n    isLimitedState\n    isShortform\n    shortformType\n    visibility\n    curationStatus\n    creator {\n      name\n      atsQualifiedAt\n      customDomainState {\n        live {\n          status\n          isSubdomain\n        }\n      }\n    }\n    collection {\n      customDomainState {\n        live {\n          status\n          isSubdomain\n        }\n      }\n      creator {\n        atsQualifiedAt\n      }\n      ptsQualifiedAt\n    }\n    noIndex\n    isIndexable\n    ...getPostContentAsString_post\n  }\n  ","\n"]);return p=function(){return e},e}function f(){var e=a()(["\n  fragment shortformPostTitle_post on Post {\n    id\n    title\n    seoTitle\n    ...getPostContentAsString_post\n    ...appendPostContext_post\n    collection {\n      ...maybeAppendProductName_collection\n    }\n  }\n  ","\n  ","\n  ","\n"]);return f=function(){return e},e}function g(){var e=a()(["\n  fragment getTitleForPost_post on Post {\n    id\n    title\n    ...postTitle_post\n    ...getTitleDetails_post\n  }\n  ","\n  ","\n"]);return g=function(){return e},e}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(){var e=a()(["\n  fragment postTitle_post on Post {\n    id\n    title\n    seoTitle\n    firstPublishedAt\n    ...getPostContentAsString_post\n    ...appendPostContext_post\n    collection {\n      id\n      name\n      domain\n      ...maybeAppendProductName_collection\n    }\n    creator {\n      name\n    }\n    previewContent {\n      subtitle\n    }\n  }\n  ","\n  ","\n  ","\n"]);return y=function(){return e},e}function E(){var e=a()(["\n  fragment maybeAppendProductName_collection on Collection {\n    id\n    domain\n  }\n"]);return E=function(){return e},e}function b(){var e=a()(["\n  fragment getTitleDetails_post on Post {\n    id\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        ...GetTitleIndexMap_bodyModel\n      }\n    }\n    ...getPostContentAsString_post\n  }\n  ","\n  ","\n"]);return b=function(){return e},e}function S(){var e=a()(["\n  fragment getPostContentAsString_post on Post {\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        paragraphs {\n          text\n          type\n          mixtapeMetadata {\n            href\n          }\n        }\n      }\n    }\n  }\n"]);return S=function(){return e},e}function x(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(){var e=a()(["\n  fragment appendPostContext_post on Post {\n    id\n    sequence {\n      title\n    }\n    collection {\n      name\n    }\n    creator {\n      name\n    }\n  }\n"]);return k=function(){return e},e}function w(e,t){var n,r,i;return null!==(n=t.sequence)&&void 0!==n&&n.title?e+=" - ".concat(t.sequence.title):null!==(r=t.collection)&&void 0!==r&&r.name?e+=" - ".concat(t.collection.name):null!==(i=t.creator)&&void 0!==i&&i.name&&(e+=" - ".concat(t.creator.name)),e}var _=(0,l.Ps)(k());function I(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{includeMixtapeHref:!1},l=a.includeMixtapeHref,c=(null===(t=e.content)||void 0===t||null===(n=t.bodyModel)||void 0===n?void 0:n.paragraphs)||[],s="",u=x(c);try{for(u.s();!(r=u.n()).done;){var d=r.value,m=d.mixtapeMetadata,p=d.text,f=d.type;if(l&&null!=m&&m.href?s+=s?" ".concat(m.href):m.href:"P"===f&&p&&p.length>o&&(s+=s?" ".concat(p):p),s.length>i)break}}catch(e){u.e(e)}finally{u.f()}return s}var O=(0,l.Ps)(S());function T(e){var t=!1,n="";if(e.content&&e.content.bodyModel&&e.content.bodyModel.paragraphs){var r=e.content.bodyModel.paragraphs,i=(0,s.LI)(r).titleIndex;"number"==typeof i&&(n=r[i].text||"",t=!0)}return{hasTitleGraf:t,latestTitle:n}}var N=(0,l.Ps)(b(),O,s.k);function D(e,t,n){return null!=n&&n.domain?e:"".concat(e," - ").concat(t)}var C=(0,l.Ps)(E());function A(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.seoTitle,a=e.title||"",l=(null===(n=e.previewContent)||void 0===n?void 0:n.subtitle)||"";if(o)return(0,d.p)(o,e.collection&&e.collection.name,t);if(!i)return a.length>50?a:a=D(a=w(a,e),t,e.collection);a.length<33&&l&&(l=(0,m.N8)(l,40),a+=". ".concat(l)),null!==(r=e.creator)&&void 0!==r&&r.name&&(a+=" | by ".concat(e.creator.name));var s="",u=Date.now()-5184e6;e.firstPublishedAt>=u&&(s=" | ".concat((0,c.Z)(e.firstPublishedAt,"LLL, yyyy")));var p=e.collection;return p?p.domain?a+="".concat(s," | ").concat(p.name):a+=" | ".concat(p.name).concat(s," | ").concat(t):a+="".concat(s," | ").concat(t),a}var R=(0,l.Ps)(y(),O,_,C);function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T(e),r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.title||"",o=n.latestTitle||i,a=h(h({},e),{},{title:o});return A(a,t,r).trim()}var L=(0,l.Ps)(g(),R,N);function M(e,t,n){var r=e.seoTitle,i=e.title||"";return r?(0,d.p)(r,e.collection&&e.collection.name,t):i=D(i=w(i=function(e,t,n){var r=t.shortformType,i=r===u.po.SHORTFORM_TYPE_NOTE||!r;return n||(i?e=I(t,250,0):r===u.po.SHORTFORM_TYPE_LINK&&(e=I(t,250,0,{includeMixtapeHref:!0}))),(0,m.N8)(e,200)}(i,e,n),e),t,e.collection)}var B=(0,l.Ps)(f(),O,_,C);function j(e){var t,n,r,i,o=e.noIndex,a=e.collection,l=e.curationStatus,c=e.firstPublishedAt,s=e.isLimitedState,d=e.isShortform,m=e.shortformType,p=e.visibility,f=e.isIndexable,g=m===u.po.SHORTFORM_TYPE_NOTE||!m;if(o)return!1;if(!c)return!1;if("PUBLIC"!==p&&"LOCKED"!==p)return!1;if(s)return!1;if(d)if(g){if(I(e,10,0).length<=10)return!1}else if(0===I(e,10,0).length)return!1;if(f)return!0;if((null===(t=e.creator)||void 0===t?void 0:t.atsQualifiedAt)>0||a&&a.ptsQualifiedAt>0)return!0;if(l&&(l===u.Xg.CURATION_STATUS_DISTRIBUTED||l===u.Xg.CURATION_STATUS_DISTRIBUTED_AND_DISABLED))return!0;var v=["DELETED","FAILED","UNSPECIFIED"],h=null==a||null===(n=a.customDomainState)||void 0===n?void 0:n.live,y=null===(r=e.creator)||void 0===r||null===(i=r.customDomainState)||void 0===i?void 0:i.live;return!((!h||h.isSubdomain||v.includes(h.status))&&(!y||y.isSubdomain||v.includes(y.status)))}var U=(0,l.Ps)(p(),O)},398:(e,t,n)=>{"use strict";n.d(t,{N:()=>r,p:()=>i});var r=function(e){return e||"Untitled story"},i=function(e,t,n){return t?"".concat(e," | ").concat(t):n?"".concat(e," | ").concat(n):e}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/5231.89e62be2.chunk.js.map