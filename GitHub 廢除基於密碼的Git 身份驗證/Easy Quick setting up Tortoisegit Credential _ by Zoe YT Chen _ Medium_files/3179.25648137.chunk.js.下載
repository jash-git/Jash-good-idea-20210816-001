(self.webpackChunklite=self.webpackChunklite||[]).push([[3179],{66371:(e,t,n)=>{"use strict";n.d(t,{Cs:()=>j,Dj:()=>$});var o=n(28655),r=n.n(o),i=n(71439),a=n(67294),s=n(28859),l=n(63038),c=n.n(l),u=n(46829),d=n(94093),p=n(64235),m=n(32589),f=n(82318),g=n(95760),h=n(51512),E=n(6688),x=n(27108);function v(){var e=r()(["\n  fragment DigestReferredPostBodyCreatorPromo_user on User {\n    id\n    name\n  }\n"]);return v=function(){return e},e}var w=(0,i.Ps)(v()),b=function(e){var t=e.creator,n=e.postId,o=a.useRef(null),r=(0,E.I)(),i=(0,m.Pd)(t),s=i.viewerEdge,l=i.loading,v=(0,u.useMutation)(p.L,{variables:{targetUserId:t.id}}),w=c()(v,1)[0],b=(0,u.useMutation)(p.g,{variables:{targetUserId:t.id}}),R=c()(b,1)[0],y=(0,g.Av)(),_="post_body_cta",I=a.useCallback((function(){return y.event("user.followed",{targetUserId:t.id,followSource:_}),w()}),[t.id,_,w]),T=a.useCallback((function(){return y.event("user.unfollowed",{targetUserId:t.id,followSource:_}),R()}),[t.id,_,R]),C=(0,h.pK)(),k=!1,P=function(){!k&&N()&&(y.event("post.digestReferredFollowCreatorPromoViewed",{postId:n,targetUserId:t.id,source:C}),k=!0)},N=function(){var e;if(!o.current)return!1;var t=null===(e=o.current)||void 0===e?void 0:e.getBoundingClientRect(),n=t.top+t.height/2;return n>=0&&n<=window.innerHeight};return a.useEffect((function(){return P(),window&&x.V6.on("scroll",P),function(){x.V6.off("scroll",P)}}),[]),l?null:a.createElement("div",{ref:o},a.createElement(d.I,{alpha:.02,verticalMargins:{normal:"42px",small:"28px"}},null!=s&&s.isFollowing?a.createElement(a.Fragment,null,"Youâ€™re now following ",t.name,"."," ",a.createElement(f.r,{onClick:T,inline:!0,linkStyle:"OBVIOUS"},"Unfollow")):a.createElement(a.Fragment,null,"You've read a few stories by this writer."," ",a.createElement("span",{className:r({fontWeight:"bold"})},a.createElement(f.r,{onClick:I,linkStyle:"OBVIOUS"},"Follow ",t.name))," ","to see more of their stories across Medium.")))},R=n(10233),y=n(4743),_=n(47875),I=n(50493),T=n(86948),C=n(47713),k=n(7883),P=n(64578),N=n(50077),B=n(49925),M=n(47552),S=n(14071),L=n(98281),O=n(41832),F=n(75209),A=n(42933),D=n(19464),W=n(27390);function H(){var e=r()(["\n  fragment PostBodyInserts_post on Post {\n    collection {\n      ...auroraHooks_publisher\n    }\n    creator {\n      ...auroraHooks_publisher\n      ...DigestReferredPostBodyCreatorPromo_user\n      ...UserMentionTooltip_user\n    }\n    isPublished\n    isShortform\n    # please note that postMeteringOptions is defined in PostHandler, which uses PostBodyInserts\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        paragraphs {\n          name\n          text\n          type\n        }\n      }\n    }\n    inResponseToPostResult {\n      ...InResponseToEntityPreview_postResult\n    }\n    inResponseToCatalogResult {\n      ...InResponseToEntityPreview_catalogResult\n    }\n    ...CardByline_post\n    ...PostByline_post\n    ...PostFooterSocialPopover_post\n    ...SharePostButtons_post\n    ...BookmarkButton_post\n    ...CreatorActionOverflowPopover_post\n    ...InResponseToEntityPreview_mediaResource\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return H=function(){return e},e}var U=function(){return null};function G(e){var t=e.post,n=(0,E.I)(),o=(0,B.GT)(t.collection||t.creator),r={marginTop:"32px"},i={post:t,source:"post_actions_header"};return a.createElement(s.TA,{className:n(r),name:"byline",type:"byline",offset:{left:-600}},a.createElement(A.x,{display:"flex",justifyContent:"space-between",xs:{marginTop:r.marginTop},sm:{flexDirection:"column-reverse",marginTop:r.marginTop}},o&&t.creator?a.createElement(N.u_,{avatar:a.createElement(L.Yt,{user:t.creator,scale:"XXS",link:!0,withHalo:!0}),publisher:t.creator,href:t.mediumUrl||void 0,isOneLine:!0,publishedAt:t.firstPublishedAt,showStar:!!t.isLocked,timeToRead:!t.isShortform&&t.readingTime?"".concat((0,W.Vd)(t.readingTime)," min read"):void 0,post:t}):a.createElement(_.G,{scale:"M",post:t,showBio:!1,hideCollection:!0}),a.createElement(A.x,{display:"flex",alignItems:"flex-end",print:{display:"none"},xs:{marginLeft:"0px",marginBottom:"30px"},sm:{marginLeft:"0px",marginBottom:"30px"},md:{marginLeft:"30px"},lg:{marginLeft:"30px"},xl:{marginLeft:"30px"}},a.createElement(A.x,{display:"flex",alignItems:"center"},t.isPublished&&(!o||!t.isShortform)&&a.createElement(a.Fragment,null,o?a.createElement(A.x,{paddingRight:"8px"},a.createElement(P.$,i)):a.createElement(S.U,i),a.createElement(A.x,{margin:"0 6px 0 7px"},a.createElement(h.cW,{source:{name:"post_actions_header"}},a.createElement(C.o,{post:t,susiEntry:"bookmark_preview"}))),t&&a.createElement(A.x,{flexGrow:"1"},a.createElement(D.B,null,(function(e){var n=e.show;return a.createElement(k.Z,{creator:null==t?void 0:t.creator,post:t,collection:null==t?void 0:t.collection,showLoadingIndicator:n,isDismissDisabled:!0})}))))))))}function V(e,t){return"".concat(t,"_").concat(e[t]?e[t].length:0)}function z(e,t,n,o,r){e[t]||(e[t]=[]),e[t].push({order:n,component:o,insertType:r})}function Y(e,t,n){return function(o){var r="number"==typeof n.titleIndex,i=n.subtitleIndex||n.titleIndex||0,s=t[i]&&t[i].name,l=!!(e.inResponseToPostResult||e.inResponseToMediaResource||e.inResponseToCatalogResult);if(s&&0===i&&!r){var c=a.createElement(A.x,null,a.createElement(G,{post:e,key:"insert_postBylineGroupComponent_".concat(V(o,"first"))}),l&&a.createElement(R.hM,{inResponseToCatalogResult:e.inResponseToCatalogResult,inResponseToPostResult:e.inResponseToPostResult,inResponseToMediaResource:e.inResponseToMediaResource,padding:"32px 0 0"}));z(o,"first","before",a.createElement(F.P,{size:"inset",key:"insert_MaxWidth_PostBylineGroupComponent_".concat(V(o,"first"))},c),"BYLINE")}else if(s&&(z(o,s,"after",a.createElement(G,{post:e,key:"insert_PostBylineGroupComponent_".concat(V(o,s))}),"BYLINE"),l)){var u=a.createElement(R.hM,{inResponseToCatalogResult:e.inResponseToCatalogResult,inResponseToPostResult:e.inResponseToPostResult,inResponseToMediaResource:e.inResponseToMediaResource,padding:"42px 0 0"});z(o,"first","before",a.createElement(F.P,{size:"inset",key:"insert_MaxWidth_ResponseMixtapeComponent_".concat(V(o,"first"))},u),"RESPONSE_MIXTAPE")}return o}}function J(e,t,n){return(0,I.tE)(e)?function(o){var r="number"==typeof n.titleIndex,i=Math.max(n.bannerImageIndex||n.subtitleIndex||n.titleIndex||0,n.subtitleIndex||n.titleIndex||0),s=t[i]&&t[i].name;if(s&&0===i&&!r){var l=a.createElement(I.o5,{post:e,mode:"INLINE",key:"insert_TOC_".concat(V(o,"first"))});z(o,"first","before",a.createElement(F.P,{size:"inset",key:"insert_MaxWidth_TableOfContents_".concat(V(o,"first"))},l),"TABLE_OF_CONTENTS")}else s&&z(o,s,"after",a.createElement(I.o5,{post:e,mode:"INLINE",key:"insert_TableOfContents_".concat(V(o,s))}),"TABLE_OF_CONTENTS");return o}:function(e){return e}}function X(e,t,n){var o=(0,y.ZV)(t),r=o.index,i=o.ordering;return"number"==typeof r&&n?function(n){var o=t[r]&&t[r].name,s=a.createElement(b,{creator:e.creator,postId:e.id,key:"insert_DigestReferredPostBodyCreatorPromo_".concat(V(n,o))}),l=a.createElement(M.b,{name:"enable_digest_referred_follow_cta",placeholder:U,key:"insert_WithClientFlag_DigestReferredPostBodyCreatorPromo_".concat(V(n,o))},(function(e){return e?s:null}));return z(n,o,i,l,"DIGEST_REFERRED_CREATOR_PROMO"),n}:function(e){return e}}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.shouldInsertCreatorPromo,o=void 0!==n&&n,r=e&&e.content&&e.content.bodyModel&&e.content.bodyModel.paragraphs||void 0;if(r){var i=(0,y.LI)(r);return[Y(e,r,i),J(e,r,i),X(e,r,o)].reduce((function(e,t){return t(e)}),{})}}var j=(0,i.Ps)(H(),B.C5,w,N.yu,_.H,P.u,S.E,T.z,k.G,O.OJ,R.NY,R.uy,R.lh)},50493:(e,t,n)=>{"use strict";n.d(t,{o5:()=>I,tA:()=>R,tE:()=>y});var o=n(28655),r=n.n(o),i=n(71439),a=n(67294),s=n(4743),l=n(51684),c=n(82318),u=n(98024),d=n(6688),p={INLINE:{padding:"8px 0",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},SIDEBAR:{padding:"8px 0",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"".concat(l.ZR,"px"),":hover":{width:"200px"}}};function m(e){var t=(0,d.I)();return a.createElement("li",{className:t({overflow:"hidden"})},a.createElement(u.F,{scale:"M",color:"DARKER"},a.createElement(c.r,{href:"#".concat(e.destination),onClick:function(t){t.preventDefault(),function(e){var t=document.getElementById(e);if(t){var n=t.offsetTop-56;window.scrollTo({left:0,top:n,behavior:"smooth"}),window.history.pushState({},"","#".concat(e))}}(e.destination)},disableSourceParam:!0,noFollow:!0,inline:!0},a.createElement("div",{className:t(p[e.mode]),title:e.text},e.text))))}var f=n(7654),g=n(42933),h=n(86021),E=n(77180),x=n(14391),v=n(67122),w=n(25885);function b(){var e=r()(["\n  fragment TableOfContents_post on Post {\n    id\n    collection {\n      id\n    }\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        paragraphs {\n          id\n          name\n          type\n          text\n        }\n      }\n    }\n  }\n"]);return b=function(){return e},e}var R=(0,i.Ps)(b()),y=function(e){return!!(e.collection&&e.collection.id&&["3ec9f38ac0bd","3f6ecf56618","8d6b8a439e32"].includes(e.collection.id))||["8135e6744d59","21f0e9818b3a"].includes(e.id)},_={INLINE:{display:{xs:"block",sm:"block",md:"block",lg:"block",xl:"none"},marginTop:"35px"},SIDEBAR:{display:{xs:"none",sm:"none",md:"none",lg:"none",xl:"block"},margin:"50px 0",fontSize:"16px",":hover":{width:"200px"}}},I=function(e){var t=e.post,n=e.mode,o=e.heightRef,r=(0,d.I)(),i=(0,E.F)().backgroundColor,l=function(e){var t=(e||{content:{bodyModel:{paragraphs:null}}}).content.bodyModel.paragraphs;if(!t)throw new Error("Expected post to have paragraphs.");var n=(0,s.LI)(t),o=t.filter((function(e){return function(e){switch(e){case x.NJ.H1:case x.NJ.H2:case x.NJ.H3:return!0}return!1}(e.type)}));return null!==n.titleIndex&&o.splice(0,1),o.length>1?o:[]}(t);if(!y(t)||null==l||!l.length)return null;var c,u,p=a.createElement(g.x,{overflow:"hidden",marginTop:"16px"},a.createElement("ol",{className:r({marginTop:"5px"})},l.map((function(e){return a.createElement(m,{key:"toc_".concat(e.name),text:e.text||"",destination:e.name||"",mode:n})})))),b=(0,w.n2)(i),R=function(e){return"rgba(".concat(b[0],", ").concat(b[1],", ").concat(b[2],", ").concat(e,")")};switch(n){case"INLINE":var I=a.createElement(h.Lh,{scale:"M",color:"LIGHTER"},a.createElement("div",{className:r({marginRight:"7px"})},"Jump To Section"));return a.createElement("div",{className:r(_[n])},a.createElement(g.x,{borderBottom:"BASE_LIGHTER",paddingBottom:"10px"},a.createElement(f.$,{titleComponent:I,width:"auto",arrowFill:(0,v.Uy)(.54)},p)));case"SIDEBAR":return a.createElement("div",{className:r(_[n])},a.createElement(h.Lh,{scale:"S",color:"LIGHTER"},a.createElement("div",{className:r({whiteSpace:"nowrap"})},"Table of Contents")),a.createElement(g.x,{position:"relative"},a.createElement("div",{className:r((function(){return{background:"linear-gradient(".concat(R(1),",\n      ").concat(R(.5),",\n      ").concat(R(0),")"),width:"100%",height:"".concat(35,"px")}}))}),a.createElement("div",{className:r({overflowY:"scroll",scrollbarWidth:"none","-ms-overflow-style":"none","::-webkit-scrollbar":{display:"none"},height:(c=null!=o&&o.current?o.current.offsetHeight:0,u=Math.max("undefined"!=typeof window?window.innerHeight-c-106-100:150,150),"".concat(u,"px")),paddingBottom:"".concat(35,"px"),position:"relative",top:"-".concat(35,"px")})},p),a.createElement("div",{className:r((function(){return{background:"linear-gradient(".concat(R(0),",\n      ").concat(R(.5),",\n      ").concat(R(1),")"),position:"relative",width:"100%",height:"".concat(35,"px"),top:"-".concat(35,"px")}}))})));default:return null}}},7654:(e,t,n)=>{"use strict";n.d(t,{$:()=>m});var o=n(63038),r=n.n(o),i=n(67294),a=n(42933),s=n(37278),l=n(6688),c=n(8403),u=n(73004),d=n(51064),p=300,m=function(e){var t,n=e.children,o=e.title,m=e.titleComponent,f=e.width,g=e.arrowFill,h=null===(t=(0,c.Wd)("unfold"))||void 0===t?void 0:t.toLowerCase(),E=!!o&&h===o.toLowerCase(),x=(0,l.I)(),v=(0,d.O)(!1),w=r()(v,4),b=w[0],R=w[3],y=function(e){var t=i.useRef(null),n=i.useState("0px"),o=r()(n,2),a=o[0],s=o[1],l=i.useState(!1),c=r()(l,2),u=c[0],d=c[1];return i.useEffect((function(){var n=t.current;n&&(e?(s("".concat(n.getBoundingClientRect().height,"px")),d(!0),setTimeout((function(){s("auto"),d(!1)}),p)):"auto"===a&&(s("".concat(n.getBoundingClientRect().height,"px")),d(!0),setTimeout((function(){return s("0px")}),50),setTimeout((function(){return d(!1)}),p)))}),[e]),{height:a,isAnimating:u,ref:t}}(b),_=y.ref,I=y.height,T=y.isAnimating;return i.useEffect((function(){E&&R()}),[]),i.createElement(i.Fragment,null,i.createElement("button",{className:x({width:f||"100%",height:"100%",border:"none",textAlign:"left",outline:"none",cursor:"pointer",padding:"0px"}),onClick:R,disabled:T},i.createElement(a.x,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},m||i.createElement(s.X6,{scale:"XS"},o||""),i.createElement(u.Z,{className:x((function(e){return{transition:"".concat(p,"ms transform"),transform:b?"rotate(180deg)":"rotate(0)",fill:g||e.baseColor.fill.normal}}))}))),i.createElement("div",{className:x({transition:"".concat(p,"ms height"),height:I,overflow:!b||T?"hidden":"visible",opacity:b?1:0})},i.createElement("div",{ref:_,className:x({opacity:b?1:0,transition:"".concat(p,"ms opacity"),display:"flex",justifyContent:"space-between",flexDirection:"column",flexFlow:"wrap"})},n)))}},51299:(e,t,n)=>{"use strict";n.d(t,{U:()=>l});var o=n(63038),r=n.n(o),i=n(67294),a=n(77180),s=n(27108),l=function(){var e=(0,a.F)(),t=i.useState("lg"),n=r()(t,2),o=n[0],l=n[1],c=function(){window.innerWidth>=e.breakpoints.xl?l("xl"):e.breakpoints.lg<=window.innerWidth&&window.innerWidth<e.breakpoints.xl?l("lg"):e.breakpoints.md<=window.innerWidth&&window.innerWidth<e.breakpoints.lg?l("md"):e.breakpoints.sm<=window.innerWidth&&window.innerWidth<e.breakpoints.md?l("sm"):l("xs")};return i.useEffect((function(){return c(),s.V6.on("resize",c),function(){return s.V6.off("resize",c)}}),[]),o}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/3179.25648137.chunk.js.map