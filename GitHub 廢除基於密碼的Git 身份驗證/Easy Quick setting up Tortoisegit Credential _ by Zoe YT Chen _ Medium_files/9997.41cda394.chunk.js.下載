(self.webpackChunklite=self.webpackChunklite||[]).push([[9997],{52957:(e,t,n)=>{"use strict";n.d(t,{T:()=>c});var r=n(63038),o=n.n(r),i=n(67294),a=n(42933),l=n(75209),s=n(27108),c=function(e){var t=e.isDockingEnabled,n=void 0!==t&&t,r=e.undockedBackgroundColor,c=e.withPadding,u=void 0!==c&&c,d=e.maxWidthSize,m=void 0===d?"inset":d,p=e.children,g=i.useRef(null),f=i.useRef(null),v=i.useState(!1),x=o()(v,2),h=x[0],E=x[1];i.useEffect((function(){var e=function(){var e,t,n=null===(e=g.current)||void 0===e?void 0:e.getBoundingClientRect().y,r=null===(t=f.current)||void 0===t?void 0:t.getBoundingClientRect().y;n&&r&&E(Boolean(r-n))};if(e(),n)return s.V6.on("scroll",e),function(){s.V6.off("scroll",e)}}),[n]);var y=n&&h;return i.createElement(i.Fragment,null,i.createElement(a.x,{ref:f}),i.createElement(a.x,{ref:g,position:n?{xs:"static",sm:"static",md:"sticky",lg:"sticky",xl:"sticky"}:"static",bottom:n?{xs:void 0,sm:void 0,md:"0",lg:"0",xl:"0"}:void 0,backgroundColor:y?"BACKGROUND":r,borderTop:y?{xs:"NONE",sm:"NONE",md:"BASE_LIGHTER",lg:"BASE_LIGHTER",xl:"BASE_LIGHTER"}:"NONE"},i.createElement(a.x,{padding:y||u?"8px 0":void 0},i.createElement(l.P,{size:m},p))))}},87508:(e,t,n)=>{"use strict";n.d(t,{cu:()=>ye,Y6:()=>Ee,rU:()=>he});var r=n(28655),o=n.n(r),i=n(71439),a=n(67294),l=n(42933),s=n(67122),c=function(e){var t=e.children;return a.createElement(a.Fragment,null,a.createElement(l.x,{marginTop:"-240px",background:"linear-gradient(".concat((0,s.l9)(0),",\n        ").concat((0,s.l9)(.5),",\n        ").concat((0,s.l9)(1),")"),height:"250px",position:"relative",width:"100%"}),a.createElement(l.x,{backgroundColor:"BACKGROUND"},a.createElement(l.x,{margin:"auto",maxWidth:"760px",sm:{margin:"0 24px 0"}},t)))},u=n(51562),d=n(32149),m=n(71542),p=n(76532),g=n(32589),f=n(324),v=n(62181),x=n(11852),h=n(75209),E=n(55099),y=n(17614),b=n(98024),S=n(95760),w=n(51512),P=n(2874),k=n(85277),I=n(67297),_=n(6522),R=n(96879),O=n(27952);function A(){var e=o()(["\n  fragment MemberOnlyWall_post on Post {\n    id\n    creator {\n      id\n      name\n      username\n      ...useShouldShowEntityDrivenSubscription_creator\n      ...EntityDrivenSubscriptionLandingPageScreen_writer\n    }\n  }\n  ","\n  ","\n"]);return A=function(){return e},e}var C="entity-driven-sub-member-only-wall",M=function(e){return(0,p.H)().value?null:a.createElement(l.x,{display:"flex",justifyContent:"center"},a.createElement(b.F,{scale:"L"},a.createElement(l.x,{display:"flex",flexDirection:"row",xs:{paddingBottom:"20px"},sm:{paddingBottom:"20px"},md:{paddingBottom:"40px"},lg:{paddingBottom:"40px"},xl:{paddingBottom:"40px"}},a.createElement(l.x,{paddingRight:"4px"},"Already a member?"),a.createElement(v.R9,{operation:"login",linkStyle:"OBVIOUS",susiEntry:"entity_driven_subscription_member_only_wall",post:e},"Sign in"))))},B=function(e){var t,n,r,o,i=e.post,s=(0,k.w)(),d=(0,S.Av)(),v=(0,I.v9)((function(e){return e.config.authDomain})),P=(0,I.v9)((function(e){return e.config.productName})),A=(0,p.H)().value,B=(0,g.Pd)(null==i?void 0:i.creator).viewerEdge,T=null==i?void 0:i.creator,D=null!==(t=null==B?void 0:B.isAllowEdsEnabled)&&void 0!==t&&t,N=null!==(n=null==A?void 0:A.mediumMemberAt)&&void 0!==n&&n,L=null!==(r=null==B?void 0:B.isUser)&&void 0!==r&&r,F=(null==T?void 0:T.id)||"",U=null==T?void 0:T.name,j=(0,O.o2w)(v,null==i?void 0:i.id),W=null!==(o=null==T?void 0:T.imageId)&&void 0!==o?o:_.gG,H=L&&D&&N,z=a.useCallback((function(){d.event("entityDrivenSubCallToAction.clicked",{userId:null==A?void 0:A.id,entityId:F}),H&&s({message:"You're already a ".concat(P," member."),toastStyle:"MESSAGE"})}),[T,A,v]),G=(0,R.Rk)((0,O.c5p)(v),{subscribeToUserId:F}),V=null!=A&&A.mediumMemberAt?j:G,$=A?"li-".concat(C):"lo-".concat(C);return a.createElement(f.N8,null,a.createElement(c,null,a.createElement(w.cW,{source:{name:"entity_driven_subscription_member_only_wall",postId:i.id,susiEntry:"entity_driven_subscription_member_only_wall"}},a.createElement(l.x,{display:"flex",minHeight:"350px",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},a.createElement(l.x,{display:"flex",flexDirection:"column",padding:"20px 0",sm:{paddingTop:"28px",paddingBottom:"32px",textAlign:"center"},maxWidth:"680px"},a.createElement(h.P,{size:"full"},a.createElement(l.x,{display:"flex",paddingBottom:"32px",justifyContent:"center"},a.createElement(m.s,null,a.createElement(x.z,{miroId:W,alt:U||"",diameter:80,freezeGifs:!1})),a.createElement(m.e,null,a.createElement(x.z,{miroId:W,alt:U||"",diameter:80,freezeGifs:!1}))),a.createElement(l.x,{paddingBottom:"20px"},a.createElement(y.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},a.createElement(u.W,{featureString:$,target:"title-copy"},A?"".concat(A.name,", read more from ").concat(U," — and everything else on Medium."):"Read more from ".concat(U," — and everything else on Medium.")))),a.createElement(l.x,{paddingBottom:"20px"},a.createElement(b.F,{scale:"L",color:"DARKER"},a.createElement(u.W,{featureString:$,target:"description-copy"},U," has made this story exclusive to members. Upgrade to keep reading."))),a.createElement(l.x,{paddingBottom:"20px"},a.createElement(E.z,{size:"LARGE",onClick:z,buttonStyle:"STRONG",href:V},"Upgrade")),a.createElement(M,{post:i})))))))},T=(0,i.Ps)(A(),d.G,P._k),D=n(12291),N=n(53976),L=n(36511),F=n(37258),U=n(19608),j=n(27168),W=n(48881),H=n(62876),z=n(96907),G=n(33572);function V(){var e=o()(["\n  fragment PayWall_post on Post {\n    id\n    creator {\n      name\n    }\n  }\n"]);return V=function(){return e},e}var $=function(e){var t=e.optimizelyFeatureString,n=e.post,r=e.showTrialPaywall,o=e.authDomain,i=(0,p.H)().value;return a.createElement(w.cW,{source:{dimension:"post_limit",name:"upgrade_membership",postId:n.id}},a.createElement(z.M,null,a.createElement(l.x,{display:"inline-block",textAlign:"center"},a.createElement(u.W,{featureString:t,target:r?"trial-upsell-button":"upsell-button-".concat(i&&i.hasPastMemberships?"resume-membership":"upgrade")},a.createElement(H.a,{isButton:!0,buttonStyle:r?"BRAND":"STRONG",width:r||i&&i.hasPastMemberships?"182px":"104px",redirectUrl:(0,O.c5p)(o)},r?"Start your free trial":i&&i.hasPastMemberships?"Resume membership":"Upgrade")))))},K=function(e){var t=e.declineSuggestedAccount,n=e.userSocialLogins,r=(0,D.I0)();return a.createElement(w.cW,{source:{susiEntry:"post_paywall"},extendSource:!0},a.createElement(l.x,{display:"flex",sm:{flexDirection:"column"}},a.createElement(l.x,{display:"flex",flexDirection:"row",justifyContent:"center"},n.facebook||n.google||n.twitter?a.createElement(U.r,{userSocialLogins:n}):a.createElement(F.o,{onSuccess:function(){return r((0,k.Pc)({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:"post_paywall"}))},userId:n.userId},(function(e){var t=e.handleSubmit;return a.createElement(E.z,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:t},"Send login link")})))),t&&a.createElement(l.x,{marginTop:"10px",marginRight:"5px",sm:{marginTop:"20px"},display:"flex",justifyContent:"center",flexDirection:"column"},a.createElement(b.F,{scale:"M"},a.createElement(j.G,{declineSuggestedAccount:t,isSocial:!!n&&!!(n.facebook||n.google||n.twitter)}))))},q=function(e){var t=e.declineSuggestedAccount,n=e.userSocialLogins,r=e.suggestedAccountEventData,o=e.showSuggestedAccount,i=e.postId;return a.createElement(w.cW,{source:{dimension:"post_limit_suggestion",name:"upgrade_membership",postId:i}},a.createElement(z.M,{eventData:r},a.createElement(l.x,{display:"inline-block",textAlign:"center"},a.createElement(K,{declineSuggestedAccount:t,showSuggestedAccount:o,userSocialLogins:n}),a.createElement(l.x,{display:"flex",flexDirection:"row",marginTop:"10px",sm:{justifyContent:"center"}},a.createElement(b.F,{scale:"L"},a.createElement(H.a,{eventData:r,linkStyle:"OBVIOUS"},"Learn more about membership"))))))},Y=function(e){var t=e.post,n=e.excludePadding,r=void 0!==n&&n,o=(0,I.v9)((function(e){return e.config.authDomain})),i=(0,I.v9)((function(e){return e.config.productName})),s=(0,p.H)().value,d=(0,L.r)().viewerId,m=(0,S.Av)(),g=null==s?void 0:s.isMembershipTrialEligible,v=!(!(0,N.VB)({name:"enable_trial_upsell",placeholder:!1})||!g),x=!!(0,N.VB)({name:"optimizely_holdback",placeholder:!1});a.useEffect((function(){g&&m.event("experiment.eligible",{experimentId:"6797776ba4cf"})}),[g]);var h="paywall";return a.createElement(f.N8,null,a.createElement(c,null,a.createElement(W.o,{postRenderCallback:function(){}},(function(e){var n,c=e.loading,m=e.showSuggestedAccount,p=e.declineSuggestedAccount,g=e.userSocialLogins;return c?a.createElement(a.Fragment,null):(m&&(h="suggested-account-paywall"),m&&(n={alternateUserSuggestionShown:m,alternateUserSuggestionAccountType:(0,G.S)(g),alternateUserSuggestionTargetUserId:!!g&&g.userId,alternateUserSuggestionSourceUserId:d}),a.createElement(a.Fragment,null,a.createElement(u.W,{featureString:h,target:v?"trial-background-color":"background-color"},a.createElement(l.x,{display:"flex",minHeight:"350px",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},a.createElement(l.x,{display:"flex",flexDirection:"column",padding:r?"48px 0 0":"48px 50px",sm:{padding:"28px 16px 32px",textAlign:"center"}},a.createElement(u.W,{featureString:h,target:v?"webCCTrialHeading":"fewerClicksHeading"},a.createElement(y.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},function(e,t,n,r){var o=r.showSuggestedAccount,i=r.showTrialPaywall,s=r.inHoldback,c=t?(0,G.J)(t):null;return c=c&&c.length<=13?c:null,o?"Switch to your member account for unlimited reading.":i?a.createElement(l.x,{textAlign:"center",sm:{marginBottom:"5px",textAlign:"center"}},c?"".concat(c,", keep reading."):"Keep reading."):a.createElement(l.x,{textAlign:"left",sm:{marginBottom:"5px",textAlign:"center"}},s?"How to read this story — and everything else on ".concat(e,"."):c?n?"".concat(c,", read more from ").concat(n," — and everyone else on ").concat(e,"."):"".concat(c,", here's how to read this story — and everything else on ").concat(e,"."):n?"How to read this story from ".concat(n," — and everything else on ").concat(e,"."):"How to read this story — and everything else on ".concat(e,"."))}(i,s&&s.name,t.creator&&t.creator.name,{showSuggestedAccount:m,showTrialPaywall:v,inHoldback:x}))),a.createElement(b.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER",tag:"div"},!m&&!v&&a.createElement(a.Fragment,null,a.createElement(u.W,{featureString:h,target:"second-header-fewer-clicks"},a.createElement(l.x,{marginTop:"8px",marginBottom:"28px",textAlign:"left",sm:{display:"inline-block",textAlign:"center"}},"You’ve read all your free member-only stories. Become a member to get unlimited access and support the voices you want to hear more from.")),a.createElement(l.x,{display:"flex",justifyContent:"flex-start",sm:{justifyContent:"center"}},a.createElement($,{optimizelyFeatureString:h,post:t,showTrialPaywall:v,authDomain:o}))),a.createElement(u.W,{featureString:h,target:v?"subtitle-copy-web-cc-trial":"subtitle-copy-fewer-clicks"},a.createElement(l.x,{marginTop:m?"28px":"8px",marginBottom:"28px",paddingRight:"6px",paddingLeft:"6px",sm:{display:"inline-block"}},function(e,t,n,r){var o=n.showTrialPaywall;if(n.showSuggestedAccount&&t){var i=t.isMember,s=t.redactedEmailAddress;return a.createElement(a.Fragment,null,"Looks like you're coming from the ",i&&"member ","account"," ",a.createElement("b",null,s)," but you’re signed in as ",a.createElement("b",null,null==r?void 0:r.email),". Switch to your",i?" member account for unlimited access":" account",".")}return a.createElement(l.x,{marginTop:"28px",marginBottom:"28px",textAlign:o?"center":"left"},o?"Start your 1 month free trial for unlimited access to everything on ".concat(e,". If it’s not for you, cancel anytime."):a.createElement(a.Fragment,null,a.createElement("b",null,"Read any story. "),"Access everything on ",e," across all your devices with no limits or ads.",a.createElement("br",null),a.createElement("br",null),a.createElement("b",null,"Reward great writing. "),"A portion of your membership fee will go toward the writers you read most."))}(i,g,{showSuggestedAccount:m,showTrialPaywall:v},s)))),!!m&&g&&a.createElement(q,{declineSuggestedAccount:p,userSocialLogins:g,suggestedAccountEventData:n,showSuggestedAccount:m,postId:t.id}),v&&!m&&a.createElement($,{optimizelyFeatureString:h,post:t,showTrialPaywall:v,authDomain:o}))))))}))))},Q=(0,i.Ps)(V()),J=n(63038),X=n.n(J),Z=n(6401),ee=n(66893),te=n(5731),ne=n(59317),re=n(81405),oe=n(90174),ie=n(4134),ae=n(6688),le=n(37581);function se(){var e=o()(["\n  fragment RegWall_meteringInfo on MeteringInfo {\n    postIds\n  }\n"]);return se=function(){return e},e}function ce(){var e=o()(["\n  fragment RegWall_post on Post {\n    id\n    lockedSource\n    ...SusiClickable_post\n  }\n  ","\n"]);return ce=function(){return e},e}var ue="post_regwall",de=function(e){var t=e.enablePasswords,n=e.meterCount,r=e.optimizelyFeatureString,o=e.postId,i={operation:"register"},s=(0,ne.j)().openModal,c=function(e){var n=e.children;return t?a.createElement(u.W,{featureString:r,target:"google-button"},n):n};return a.createElement(l.x,{display:"flex",flexDirection:"column",textAlign:"center",sm:{flexDirection:"column"}},a.createElement(u.W,{featureString:r,target:"google-button"},a.createElement(l.x,{margin:"".concat(t?"32px":"62px"," 0 10px"),sm:{margin:"40px 0 12px 0"}},a.createElement(le.$,{eventData:{meterCount:n,operation:i.operation,postId:o}},a.createElement(ie.x,i)))),a.createElement(c,null,a.createElement(l.x,{marginBottom:t?"32px":"52px",sm:{marginBottom:"40px"}},a.createElement(le.$,{eventData:{meterCount:n,operation:i.operation,postId:o}},t?a.createElement(re.R,{goToEmailAuthStep:function(){s({step:"ENTER_EMAIL",susiEntry:ue,operation:"register"})},operation:"register"}):a.createElement(oe.q,i)))))},me=function(e){var t=e.meteringInfo,n=e.post,r=e.isSidebarRecircDisplayed,o=(0,S.Av)(),i=!!(0,ee.P5)("enable_passwords"),s="LOCKED_POST_SOURCE_SYNDICATED"===n.lockedSource,d="".concat(s?"syndicated-":"","regwall"),m=(0,ae.I)(),p=a.useRef(null),g=a.useState(360),x=X()(g,2),h=x[0],E=x[1];return a.useEffect((function(){o.event("meter.viewed",{meterCount:null==t?void 0:t.postIds.length,postId:n.id,uiType:s?te.j.SyndicatedRegwall:te.j.RegWall})}),[]),a.useEffect((function(){p.current&&E(p.current.clientHeight)}),[p]),a.createElement(f.N8,null,a.createElement(w.cW,{source:{postId:n.id,susiEntry:ue}},a.createElement(c,null,a.createElement(u.W,{featureString:d,target:"background-color"},r&&a.createElement("div",{className:m({background:"#fff",width:"400px",height:"".concat(h,"px"),position:"absolute",right:0,display:{xs:"none",sm:"none"}})}),a.createElement(l.x,{display:"flex",textAlign:"center",justifyContent:"center",sm:{flexDirection:"column",textAlign:"center"},ref:p},a.createElement(l.x,{padding:"48px 56px",sm:{padding:"28px 16px 48px"}},a.createElement(u.W,{featureString:d,target:"heading"},a.createElement(y.F1,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},a.createElement(l.x,{display:"none",sm:{display:"block"}},"To keep reading this story, get the free app or log in."),a.createElement(l.x,{display:"block",sm:{display:"none"}},"Read the rest of this story with a free account."))),a.createElement(b.F,{color:"DARKER",scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},tag:"div"},a.createElement(l.x,{display:"none",margin:"auto",paddingTop:"10px",width:"500px"},"You’ll also discover more fresh thinking personalized to your interests and can follow your favorite authors, publications, and topics."),a.createElement(l.x,{display:"none",sm:{display:"block"}},a.createElement(l.x,{margin:"".concat(i?"40px":"42px"," 0")},a.createElement(Z.a,{isButton:!0,postId:n.id,appEntry:"regwall"})),a.createElement(u.W,{featureString:d,target:"skip-app-copy"},a.createElement(l.x,{marginBottom:"-20px"},"Or, continue in mobile web"))),a.createElement(de,{meterCount:null==t?void 0:t.postIds.length,optimizelyFeatureString:d,postId:n.id,enablePasswords:i}),a.createElement(u.W,{featureString:d,target:"sign-in-copy",tag:"span"},"Already have an account?"," "),a.createElement(u.W,{featureString:d,target:"sign-in-link",tag:"span"},a.createElement(v.R9,{linkStyle:"OBVIOUS",operation:"login",post:n,susiEntry:ue},"Sign in")))))))))},pe=(0,i.Ps)(ce(),v.qU),ge=(0,i.Ps)(se()),fe=n(1932);function ve(){var e=o()(["\n  fragment Wall_meteringInfo on MeteringInfo {\n    ...RegWall_meteringInfo\n  }\n  ","\n"]);return ve=function(){return e},e}function xe(){var e=o()(["\n  fragment Wall_post on Post {\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n    isLocked\n    isMarkedPaywallOnly\n    ...MemberOnlyWall_post\n    ...PayWall_post\n    ...RegWall_post\n  }\n  ","\n  ","\n  ","\n"]);return xe=function(){return e},e}var he=(0,i.Ps)(xe(),T,Q,pe),Ee=(0,i.Ps)(ve(),ge),ye=function(e){var t=e.post,n=e.meteringInfo,r=e.excludePadding,o=e.isSidebarRecircDisplayed,i=t.id,l=t.isLocked,s=t.isMarkedPaywallOnly,c=t.content.isLockedPreviewOnly,u=(0,S.Av)(),m=(0,p.H)(),g=m.value,f=m.loading,v=(0,fe.n)(i,c).loading,x=!!g,h=(0,N.VB)({name:"enable_member_only_paywall",placeholder:!1}),E=(0,d.$)("entity_driven_subscription_milestone_2",null==t?void 0:t.creator);if(a.useEffect((function(){!E||null!=g&&g.mediumMemberAt||u.event("experiment.eligible",{experimentId:"302c03fdc015"})}),[E,g]),!v&&c){if((s||l)&&E&&h)return a.createElement(B,{post:t});if(x)return a.createElement(Y,{post:t,excludePadding:r});if(!f)return a.createElement(me,{post:t,meteringInfo:n,isSidebarRecircDisplayed:o})}return null}},15789:(e,t,n)=>{"use strict";n.d(t,{bl:()=>D,Uw:()=>B,mW:()=>M});var r=n(67154),o=n.n(r),i=n(63038),a=n.n(i),l=n(28655),s=n.n(l),c=n(46829),u=n(71439),d=n(67294),m=n(25415),p=n(40820),g=n(69677),f=n(72846),v=n(91442),x=n(59713),h=n.n(x),E=n(11642);function y(){var e=s()(["\n  fragment NormalizeHighlights_paragraph on Paragraph {\n    name\n    text\n  }\n"]);return y=function(){return e},e}function b(){var e=s()(["\n  fragment NormalizeHighlights_highlight on Quote {\n    endOffset\n    startOffset\n    paragraphs {\n      name\n      text\n    }\n  }\n"]);return b=function(){return e},e}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){if(!e||"number"!=typeof t||"number"!=typeof n)return null;var r=t,o=n;return e.substr(r,o-r)}var k=(0,u.Ps)(b()),I=(0,u.Ps)(y()),_=n(76532),R=n(44059);function O(){var e=s()(["\n  query InteractivePostBodyQuery($postId: ID!, $showNotes: Boolean!) {\n    post(id: $postId) {\n      id\n      highlights {\n        id\n        ...ActiveSelectionContext_highlight\n        ...HighlighSegmentContext_highlight\n        ...NormalizeHighlights_highlight\n        ...PostBody_highlight\n      }\n      privateNotes @include(if: $showNotes) {\n        ...PostBody_privateNote\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return O=function(){return e},e}function A(){var e=s()(["\n  fragment InteractivePostBody_post on Post {\n    id\n    # please note that postMeteringOptions is defined in PostHandler, which uses InteractivePostBody\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      bodyModel {\n        ...PostBody_bodyModel\n        paragraphs {\n          ...HighlighSegmentContext_paragraph\n          ...NormalizeHighlights_paragraph\n        }\n      }\n    }\n    creator {\n      id\n      allowNotes\n      ...PostBody_creator\n    }\n    ...ActiveSelectionContext_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return A=function(){return e},e}function C(){var e=s()(["\n  fragment InteractivePostBody_postPreview on Post {\n    extendedPreviewContent(\n      truncationConfig: {\n        previewParagraphsWordCountThreshold: 100\n        minimumWordLengthForTruncation: 150\n        truncateAtEndOfSentence: true\n        showFullImageCaptions: true\n        shortformPreviewParagraphsWordCountThreshold: 30\n        shortformMinimumWordLengthForTruncation: 30\n      }\n    ) {\n      bodyModel {\n        ...PostBody_bodyModel\n      }\n      isFullContent\n    }\n  }\n  ","\n"]);return C=function(){return e},e}var M=(0,u.Ps)(C(),f.Pk),B=(0,u.Ps)(A(),p.iF,v.iB,I,f.Pk,f.v),T=(0,u.Ps)(O(),p.UW,v.g8,f.XV,f.w6,k),D=d.forwardRef((function(e,t){var n,r,i,l=e.activeGrafId,s=e.activeNoteId,u=e.isAuroraPostPageEnabled,x=e.post,h=e.inlinePost,y=e.postBodyInserts,b=e.richTextStyle,S=e.markedUpBodyModel,k=e.shouldHideHighlightAnnotations,I=(0,_.H)().value,O=h&&!x?S||(null==h||null===(n=h.extendedPreviewContent)||void 0===n?void 0:n.bodyModel):null==x||null===(r=x.content)||void 0===r?void 0:r.bodyModel,A={creator:null==x?void 0:x.creator,isAuroraPostPageEnabled:u,postBodyInserts:y,ref:t,richTextStyle:b||"FULL_PAGE"},C=x&&x.creator&&x.creator.allowNotes||!1,M=(0,c.useLazyQuery)(T,{ssr:!1,variables:{postId:(null==x?void 0:x.id)||"",showNotes:C},notifyOnNetworkStatusChange:!0}),B=a()(M,2),D=B[0],N=B[1],L=N.called,F=N.data,U=null==F?void 0:F.post;if(d.useEffect((function(){x&&!L&&D()}),[x]),!O)return R.t.log("Expected post to have content or preview content."),null;var j=(null==x||null===(i=x.content)||void 0===i?void 0:i.bodyModel)&&(null==x?void 0:x.content.bodyModel.paragraphs)||[],W=function(e,t){return e&&t?e.map((function(e){var n=e.endOffset,r=e.startOffset,o=e.paragraphs&&e.paragraphs[0],i=function(e,t){return e?t.find((function(t){var n=t.name;return e===n})):null}(o.name,t);if(!o||!i)return null;var a=P(o.text,r,n),l=P(i.text,r,n);if(!a||!l)return null;if(a===l)return e;var s=i.text?i.text.indexOf(a):null;if("number"!=typeof s||s<0)return null;var c=s+a.length;return w(w({},e),{},{endOffset:c,startOffset:s})})).filter(E.b):e}(U&&U.highlights||[],j),H=U&&U.privateNotes||null;return d.createElement(g.yb,null,d.createElement(m.KN,{initialActivePrivateNoteId:s,initialActiveGrafName:l},d.createElement(p.Ms,{interactivePost:x,highlights:W,disableSelection:!x},d.createElement(v.U7,{highlights:W,paragraphs:j,viewer:I},d.createElement(f.yO,o()({},A,{bodyModel:O,highlights:W,privateNotes:H,shouldHideHighlightAnnotations:k}))))))}))},50188:(e,t,n)=>{"use strict";n.d(t,{kD:()=>f,T8:()=>v,Qw:()=>x});var r,o,i=n(59713),a=n.n(i),l=n(57953),s="post-view",c="post-read",u="topic-view",d="medium-search",m="external-search",p=(r={},a()(r,s,200),a()(r,c,200),a()(r,u,200),a()(r,d,200),a()(r,m,200),r),g=(o={},a()(o,s,new l.Z("pv")),a()(o,c,new l.Z("pr")),a()(o,u,new l.Z("tv")),a()(o,d,new l.Z("ms")),a()(o,m,new l.Z("es")),o),f=function(e){h(s,e,Date.now())},v=function(e){h(c,e,Date.now())},x=function(e){h(u,e,Date.now())},h=function(e,t,n){var r=g[e];r.getCount()===p[e]&&r.clean();try{r.set(t,n)}catch(e){r.clean()}}},39997:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ExpandablePost:()=>it,ExpandablePost_meteringInfo:()=>nt,ExpandablePost_post:()=>rt});var r=n(67154),o=n.n(r),i=n(59713),a=n.n(i),l=n(63038),s=n.n(l),c=n(28655),u=n.n(c),d=n(82492),m=n.n(d),p=n(17673),g=n(46829),f=n(71439),v=n(67294),x=n(5977),h=n(52957),E=n(75341),y=n(34488),b=n(40917),S=n(87508),w=n(10233),P=n(30570),k=n(4743),I=n(15789),_=n(10963),R=n(42933),O=n(6688),A=["100%","95%","93%","98%","98%"],C=function(){return v.createElement(R.x,{width:"100%"},A.map((function(e,t){return v.createElement(R.x,{key:"placeholder-".concat(t),width:e,height:"16px",marginBottom:"18px",backgroundColor:"BASE_NORMAL"})})))},M=function(){var e=(0,O.I)(),t=(0,_.P)();return v.createElement("div",{className:e((function(){return t}))},v.createElement(C,null))},B=n(82318),T=n(98024),D=n(96879),N=n(27390),L=function(e){return{color:e.baseColor.text.lighter}},F=function(e){var t=e.readingTime,n=e.isLighterText,r=void 0!==n&&n,o=(0,O.I)();if(!t)return null;var i="".concat((0,N.Vd)(t)," min read");return v.createElement("span",{className:r?o(L):void 0},i)},U=function(e){var t=e.onReadMore,n=e.post,r=e.padding,o=void 0===r?"34px 0 0 0":r,i=(0,y.D)(),a=(0,E.SK)(),l=i(n),s=n.readingTime,c=(0,D.Rk)(l,{readmore:"1"});return v.createElement(B.r,{href:c,onClick:t,display:"block"},v.createElement(R.x,{padding:o},v.createElement(T.F,{color:a?"DARKER":"ACCENT",scale:"M"},"Read more · "," ",v.createElement(F,{readingTime:s,isLighterText:a}))))},j=function(e){var t=e.href,n=e.onReadMore,r=(0,O.I)();return v.createElement(B.r,{href:t,onClick:n},v.createElement("div",{className:r((function(e){return{position:"absolute",top:0,backgroundColor:e.backgroundColor,height:"100%",width:"100%",opacity:"80%",zIndex:"1"}}))}))},W=n(93912),H=n(50077),z=n(76532),G=n(75209),V=n(57693),$=n(95760),K=n(51512),q=n(15699),Y=n(66210),Q=n(58491),J=n(36891),X=n(14391),Z=n(8403),ee=n(67297),te=n(32261),ne=n(64227),re=n(19732);function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ie=v.createElement("circle",{cx:16,cy:16,r:16,fill:"#A8A8A8"}),ae=v.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.77 16.48l5.4 5.4.7-.7-5.4-5.4 4.7-4.7-.71-.7-4.69 4.69-4.69-4.7-.7.71 4.68 4.7-5.4 5.4.71.7 5.4-5.4z",fill:"#FAFAFA"});const le=function(e){return v.createElement("svg",oe({width:32,height:32,fill:"none"},e),ie,ae)};var se=function(){return{border:"none",padding:"0",background:"transparent",cursor:"pointer"}},ce=function(e){var t=e.expansionRef,n=(0,O.I)(),r=(0,x.k6)(),o=(0,P.sK)(),i=o.setExpandedPostId,a=o.setExpandedPost;return v.createElement(R.x,{position:"sticky",top:"40px",height:"0",textAlign:"right"},v.createElement(R.x,{position:"relative",bottom:"20px"},v.createElement("button",{type:"button",className:n(se),onClick:function(){var e,n=null===(e=t.current)||void 0===e?void 0:e.getBoundingClientRect().y;n&&n<0&&window.scrollBy(0,n),a(null),i(null),r.goBack()},"aria-label":"Collapse"},v.createElement(le,null))))},ue=n(83687),de=n(36823),me=n(9292),pe=n(11852),ge=n(6522);function fe(){var e=u()(["\n  fragment ExpandablePostByline_collection on Collection {\n    __typename\n    id\n    name\n    domain\n    slug\n  }\n"]);return fe=function(){return e},e}function ve(){var e=u()(["\n  fragment ExpandablePostByline_user on User {\n    __typename\n    id\n    name\n    username\n    imageId\n    hasSubdomain\n    customDomainState {\n      live {\n        domain\n      }\n    }\n  }\n"]);return ve=function(){return e},e}var xe=function(e){var t=e.publication,n=(0,ue.R)(t);return v.createElement(R.x,{display:"flex"},v.createElement(R.x,{padding:"0 2px"},v.createElement(T.F,{scale:"M"},"in")),v.createElement(B.r,{href:n,display:"inline-block"},v.createElement(T.F,{scale:"M",color:"DARKER",clamp:1},t.name)))},he=function(e){var t=e.creator,n=e.collection,r=(0,de.B)(t);return v.createElement(R.x,{display:"flex",flexWrap:"wrap",alignItems:"center"},v.createElement(B.r,{href:r},v.createElement(T.F,{scale:"M",color:"DARKER",clamp:1},t.name)),n&&n.name!==t.name&&v.createElement(xe,{publication:n}))},Ee=function(e){var t=e.creator,n=e.collection,r=e.datePrefix,o=e.href,i=e.publishedAt,a=e.showStar,l=void 0!==a&&a,s=e.showPinned,c=void 0!==s&&s,u=e.showPublisherInfo,d=void 0!==u&&u,m=e.post;return v.createElement(me.Y,{avatar:t&&d&&v.createElement(pe.z,{miroId:t.imageId||ge.gG,alt:t.name||"",diameter:24,freezeGifs:!0}),isOneLine:!0,title:d?v.createElement(he,{creator:t,collection:n}):null,description:v.createElement(H.Q5,{datePrefix:r,publishedAt:i,withMidDot:d,href:o,showStar:l,showPinned:c,isOneLine:!0,post:m})})},ye=((0,f.Ps)(ve()),(0,f.Ps)(fe()),n(14345)),be=n(39186),Se=n(86948),we=n(64578),Pe=n(21356),ke=n(33819),Ie=n(72393);function _e(){var e=u()(["\n  fragment ExpandablePostFooter_post on Post {\n    id\n    allowResponses\n    postResponses {\n      count\n    }\n    isLimitedState\n    ...TruncatedPostCardOverflowButton_post\n    ...BookmarkButton_post\n    ...PostFooterSocialPopover_post\n    ...MultiVote_post\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return _e=function(){return e},e}var Re=(0,f.Ps)(_e(),be.r,Se.z,we.u,Pe.x),Oe=function(e){var t=e.post,n=e.publisherContext,r=v.useContext(Ie.f).openSidebar,o=(0,P.sK)(),i=o.expandedPostId,a=o.postInView,l=t.clapCount,s=t.mediumUrl,c=t.postResponses,u=Boolean(l),d=(null==c?void 0:c.count)||0,m={post:t,source:"expandable_post_footer"};return v.createElement(R.x,{display:"flex",justifyContent:"space-between",alignItems:"center"},v.createElement(R.x,{display:"flex",alignItems:"center"},v.createElement(Pe.S,{post:t,buttonStyle:"SUBTLE_MARGIN",susiEntry:"clap_preview",hasDialog:!0,shouldHideClapsText:!0}),v.createElement(R.x,{display:"flex",alignItems:"center",xl:{marginLeft:u?"24px":"12px"},lg:{marginLeft:u?"24px":"12px"},md:{marginLeft:u?"16px":"8px"},sm:{marginLeft:u?"0":"8px"},xs:{marginLeft:u?"0":"8px"},paddingTop:"3px"},v.createElement(B.r,{href:s+"?responsesOpen=true"},v.createElement(R.x,{marginTop:"5px"},v.createElement(ke.h,{trackingData:{postId:t.id},responsesCount:d,handleClick:a&&i===t.id?function(e){e.preventDefault(),r()}:function(){},allowResponses:t.allowResponses,isLimitedState:t.isLimitedState,responsesCountColor:"DARKER",countStylesOverride:{marginLeft:"4px"}}))))),v.createElement(R.x,{display:"flex",alignItems:"center",justifyContent:"flex-end"},v.createElement(R.x,{marginRight:"8px"},v.createElement(we.$,m)),v.createElement(R.x,{marginRight:"8px"},v.createElement(Se.e,{post:t,susiEntry:"bookmark_preview"})),n&&v.createElement(R.x,{marginRight:"-4px"},v.createElement(ye.A,{post:t,publisherContext:n}))))},Ae=n(79810),Ce=n(95248),Me=n(27721),Be=n(37278),Te=n(55581),De=n(90038),Ne=function(e){var t=e.post,n=e.reason,r=e.publisherContext,o=t.readingTime,i=t.tags,a=i&&i[0];return v.createElement(R.x,{display:"flex",justifyContent:"space-between"},v.createElement(R.x,{display:"flex",flexGrow:"1",flexShrink:"0",alignItems:"center"},a&&v.createElement(R.x,{paddingRight:"8px"},v.createElement(Ae.Pl,{topic:a,scale:"S"})),v.createElement(R.x,null,v.createElement(T.F,{scale:"S"},v.createElement(F,{readingTime:o}))),n&&v.createElement(v.Fragment,null,v.createElement(R.x,{padding:"0 8px"},v.createElement(Ce.O,{scale:"S"})),v.createElement(T.F,{scale:"S"},n))),v.createElement(R.x,{display:"flex"},v.createElement(R.x,{marginRight:"8px"},v.createElement(Se.e,{post:t,susiEntry:"bookmark_preview"})),r&&v.createElement(R.x,null,v.createElement(ye.A,{post:t,publisherContext:r}))))},Le=function(){return{border:"none",padding:"0",background:"transparent",cursor:"pointer",textAlign:"left",width:"100%"}},Fe=function(e){var t,n=e.post,r=e.onReadMore,o=e.onHoverReadMore,i=e.reason,a=e.publisherContext,l=(0,O.I)(),s=n.title,c=n.previewContent;return v.createElement(R.x,null,v.createElement(V.D,{onMouseEnter:o,onMouseLeave:function(){}},v.createElement(R.x,{display:"flex"},v.createElement(R.x,{flexGrow:"1",flexShrink:"1",wordBreak:"break-word"},v.createElement(R.x,null,v.createElement("button",{type:"button",className:l(Le),onClick:r},s&&v.createElement(R.x,{paddingBottom:{xs:"0",sm:"0",md:"8px",lg:"8px",xl:"8px"}},v.createElement(Be.X6,{scale:{xs:"XS",sm:"XS",md:"M",lg:"M",xl:"M"},clamp:2},s)),(null==c?void 0:c.subtitle)&&v.createElement(R.x,{display:{xs:"none",sm:"none",md:"block",lg:"block",xl:"block"}},v.createElement(Te.uT,{scale:"XS",clamp:3},c.subtitle)))),v.createElement(R.x,{padding:{xs:"16px 0",sm:"16px 0",md:"32px 0",lg:"32px 0",xl:"32px 0"}},v.createElement(Ne,{post:n,reason:i,publisherContext:a}))),(null===(t=n.previewImage)||void 0===t?void 0:t.id)&&v.createElement(R.x,{marginLeft:{xs:"24px",sm:"24px",md:"60px",lg:"60px",xl:"60px"}},v.createElement("button",{type:"button",className:l(Le),onClick:r},v.createElement(R.x,{display:{xs:"none",sm:"none",md:"block",lg:"block",xl:"block"}},v.createElement(Me.UV,{alt:n.title||"",miroId:n.previewImage.id,width:112,height:112,strategy:De._S.Crop})),v.createElement(R.x,{display:{xs:"block",sm:"block",md:"none",lg:"none",xl:"none"}},v.createElement(Me.UV,{alt:n.title||"",miroId:n.previewImage.id,width:56,height:56,strategy:De._S.Crop})))))))},Ue=function(){return{opacity:1}},je=function(){return{position:"absolute",left:0,right:0,opacity:"0",height:0,overflow:"hidden",transition:"opacity 50ms ease-out"}},We=function(){return{transition:"opacity 300ms ease-in",transitionDelay:"50ms",opacity:1}},He=function(){return{opacity:"0",height:0,overflow:"hidden",transition:"opacity 0ms ease-in",transitionDelay:"0s"}},ze=function(e){var t=e.post,n=e.publisherContext,r=e.reason,o=e.showContent,i=void 0!==o&&o,a=e.showPreview,l=e.children,s=e.onReadMore,c=e.onHoverReadMore,u=(0,O.I)();if(!a)return l;var d=i?[We]:[We,He],m=i?[Ue,je]:[Ue];return v.createElement(R.x,null,v.createElement(R.x,{position:"relative"},v.createElement("div",{className:u(m)},v.createElement(Fe,{post:t,publisherContext:n,reason:r,onReadMore:s,onHoverReadMore:c}))),v.createElement("div",{className:u(d)},l))},Ge=n(61982),Ve=n(21204);function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(){var e=u()(["\n  query ExpandablePostExpandedQuery($postId: ID!, $postMeteringOptions: PostMeteringOptions) {\n    postResult(id: $postId) {\n      __typename\n      ... on Post {\n        id\n        collection {\n          id\n          slug\n        }\n        content(postMeteringOptions: $postMeteringOptions) {\n          bodyModel {\n            paragraphs {\n              name\n              text\n            }\n          }\n        }\n        ...InteractivePostBody_post\n        ...Wall_post\n        ...ExpandablePost_post\n        ...InlineExpansionContext_post\n        ...PostReadTracker_post\n      }\n    }\n    meterPost(postId: $postId, postMeteringOptions: $postMeteringOptions) {\n      __typename\n      ... on MeteringInfo {\n        ...Wall_meteringInfo\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return qe=function(){return e},e}function Ye(){var e=u()(["\n  fragment ExpandablePost_post on Post {\n    id\n    creator {\n      ...CardByline_user\n    }\n    collection {\n      ...CardByline_collection\n    }\n    ...InteractivePostBody_postPreview\n    firstPublishedAt\n    isLocked\n    isSeries\n    isShortform\n    latestPublishedAt\n    mediumUrl\n    postResponses {\n      count\n    }\n    previewContent {\n      subtitle\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n    }\n    readingTime\n    sequence {\n      slug\n    }\n    title\n    uniqueSlug\n    visibility\n    inResponseToPostResult {\n      ...InResponseToEntityPreview_postResult\n    }\n    inResponseToCatalogResult {\n      ...InResponseToEntityPreview_catalogResult\n    }\n    ...CardByline_post\n    ...ExpandablePostFooter_post\n    ...PostPresentationTracker_post\n    ...PostScrollTracker_post\n    ...InResponseToEntityPreview_mediaResource\n    ...ReadMore_post\n    ...HighDensityPreview_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Ye=function(){return e},e}function Qe(){var e=u()(["\n  fragment ExpandablePost_meteringInfo on MeteringInfo {\n    ...Wall_meteringInfo\n  }\n  ","\n"]);return Qe=function(){return e},e}var Je=function(e){return{border:0,height:"1px",backgroundColor:e.baseColor.border.lighter,margin:0}},Xe={xs:{marginTop:"32px",marginBottom:"30px"},sm:{marginTop:"32px",marginBottom:"30px"},md:{marginTop:"40px",marginBottom:"50px"},lg:{marginTop:"40px",marginBottom:"50px"},xl:{marginTop:"40px",marginBottom:"50px"}},Ze={xs:{marginTop:"30px",marginBottom:"30px"},sm:{marginTop:"30px",marginBottom:"30px"},md:{marginTop:"50px",marginBottom:"50px"},lg:{marginTop:"50px",marginBottom:"50px"},xl:{marginTop:"50px",marginBottom:"50px"}},et=[X.NJ.H3,X.NJ.H4],tt=[X.NJ.IMG,X.NJ.IFRAME],nt=(0,f.Ps)(Qe(),S.Y6),rt=(0,f.Ps)(Ye(),H.yu,I.mW,H.br,Re,q.h,Y.k,H.We,w.uy,w.lh,w.NY,Ve.q,Ge.U),ot=(0,f.Ps)(qe(),I.Uw,S.rU,rt,P.q9,Q.W,S.Y6),it=function(e){var t,n,r,i,l,c,u=e.post,d=e.excludeMargin,f=void 0!==d&&d,_=e.includeTopDivider,A=void 0===_||_,C=e.includeBottomDivider,B=void 0!==C&&C,T=e.isFirst,N=void 0!==T&&T,L=e.publisher,F=e.hideAuthor,X=void 0!==F&&F,oe=e.index,ie=e.maxWidthSize,ae=void 0===ie?"inset":ie,le=e.showInResponseToEntityPreview,se=void 0!==le&&le,ue=e.mayShowPinned,de=void 0!==ue&&ue,me=e.showHighDensityPreview,pe=void 0!==me&&me,ge=e.highDensityPreviewReason,fe=e.showBylinePublisherInfo,ve=void 0!==fe&&fe,xe=!!(0,z.H)().value,he=(0,E.SK)(),ye=he?"app":ae,be=v.useRef(null),Se=v.useRef(null),we=v.useRef(null),Pe=v.useState(!1),ke=s()(Pe,2),Ie=ke[0],_e=ke[1],Re=(0,P.sK)(),Ae=Re.expandedPostId,Ce=Re.setExpandedPostId,Me=Re.expandedPost,Be=Re.setExpandedPost,Te=Re.setPostInView,De=(null==Me?void 0:Me.id)===u.id,Ne=(0,O.I)(),Le=(0,$.Av)(),Fe=(0,Z.G1)(),Ue=(0,K.Lk)(),je=Ke(Ke({},Ue),{},{index:oe}),We=(0,Z.he)(),He=(0,ee.v9)((function(e){return e.navigation.referrer}));De&&(He=We);var Ge=(0,y.D)(),Ve=(0,K.f0)(je),$e=(0,D.Rk)(Ge(u),{source:Ve});(0,Q.t)(xe,be,Me,De);var qe=v.useRef(null);(0,Y.V)(qe,u,De);var Ye=u.id,Qe=u.collection,nt=u.extendedPreviewContent,rt=u.isLocked,it=u.firstPublishedAt,at=u.latestPublishedAt,lt=u.mediumUrl,st=u.pinnedAt,ct=u.pinnedByCreatorAt,ut=u.visibility,dt=u.inResponseToPostResult,mt=u.inResponseToMediaResource,pt=u.inResponseToCatalogResult,gt=(0,x.k6)(),ft=(0,Z.PM)();Ue&&De&&(ft=(0,K.f0)(Ue));var vt={referrer:He,sk:Fe,source:ft},xt=(0,g.useLazyQuery)(ot,{variables:{postId:u.id,postMeteringOptions:vt}}),ht=s()(xt,2),Et=ht[0],yt=ht[1],bt=yt.called,St=yt.data,wt=yt.loading,Pt=yt.error,kt=null==St?void 0:St.meterPost;v.useEffect((function(){if(!wt&&Ae===u.id){var e=new URL($e).pathname;if(Pt)gt.push({pathname:e});else if(bt){var t=null==St?void 0:St.postResult;if((0,re.f)(t)){try{var n=function(e,t){var n,r,o,i,a,l,s,c;if(null==e||null===(n=e.extendedPreviewContent)||void 0===n||null===(r=n.bodyModel)||void 0===r||null===(o=r.paragraphs)||void 0===o||!o.length)throw new Error("Expected post to have preview content.");var u=new Map;null!=e&&null!==(i=e.extendedPreviewContent)&&void 0!==i&&null!==(a=i.bodyModel)&&void 0!==a&&null!==(l=a.paragraphs)&&void 0!==l&&l.length&&e.extendedPreviewContent.bodyModel.paragraphs.forEach((function(e){u.set(e.name,e)}));var d=[],p=[];null!=e&&null!==(s=e.content)&&void 0!==s&&null!==(c=s.bodyModel)&&void 0!==c&&c.paragraphs&&e.content.bodyModel.paragraphs.forEach((function(e){var t,n=u.get(e.name);n&&n.text.length===(null===(t=e.text)||void 0===t?void 0:t.length)?d.push(n):p.push(e)}));var g=[].concat(d,p);return m()({},e,{content:Ke(Ke(Ke({},e.extendedPreviewContent),e.content),{},{isFullContent:!0,bodyModel:Ke(Ke(Ke({},e.extendedPreviewContent.bodyModel),e.content.bodyModel),{},{paragraphs:(0,b.e)(g,t,!1)})})})}(t,$e);Ce(n.id),Be(n)}catch(t){gt.push({pathname:e})}_e(!1)}else gt.push({pathname:e})}else Et()}}),[Ae,bt,wt,St,Pt,$e]),v.useEffect((function(){var e,t;De&&Le.event("post.clientViewed",{postId:u.id,collectionId:null===(e=u.collection)||void 0===e?void 0:e.id,collectionSlug:null===(t=u.collection)||void 0===t?void 0:t.slug,context:2,source:"post_page"},{referrer:He,referrerSource:ft})}),[De]);var It=v.useCallback((function(e){var t;e.preventDefault(),_e(!0);var n=null===(t=Se.current)||void 0===t?void 0:t.getBoundingClientRect();null!=n&&n.top&&(we.current=n.top),Ce(u.id)}),[]),_t=v.useCallback((function(){bt||Et()}),[bt]);(0,ne.L)((function(){var e,t=null===(e=Se.current)||void 0===e?void 0:e.getBoundingClientRect();if(null!=Me&&Me.id&&De&&t){var n=t.top-(we.current||0);Boolean(n)&&window.scrollBy(0,n)}}),[null==Me?void 0:Me.id,De]);var Rt=gt.location,Ot=v.useCallback((function(e){if(null!=Me&&Me.id&&e){var t=new URL($e).pathname,n=(0,p.parse)(Rt.search.slice(1)).p===u.id||t===Rt.pathname,r=!!e.intersectionRatio;if(!r&&n)return Te(!1),void gt.goBack();if(r&&!n){var o,i,a=(null===(o=Rt.state)||void 0===o?void 0:o.preExpandedLocation)||Rt,l={pathname:Rt.pathname,search:"?p=".concat(Me.id),state:{preExpandedLocation:a}};return he&&(l={pathname:t,state:{preExpandedLocation:a}}),window.history.scrollRestoration="manual",Te(!0),void(null!==(i=Rt.state)&&void 0!==i&&i.preExpandedLocation?gt.replace(l):gt.push(l))}}}),[u.id,null==Me?void 0:Me.id,gt,Rt,$e]),At=v.useCallback((function(){return!De}),[De]);if((0,J.S)({onIntersect:Ot,target:Se,disconnect:At},[De,Ot]),null==u||null===(t=u.extendedPreviewContent)||void 0===t||!t.bodyModel)return null;var Ct=null==u||null===(n=u.extendedPreviewContent)||void 0===n?void 0:n.bodyModel;if(!Ct)return null;var Mt=Ke(Ke({},Ct),{},{paragraphs:(0,b.e)(Ct.paragraphs,$e)}),Bt=!!st&&!!at,Tt=Bt?at:it,Dt=Bt?"Updated ":"",Nt=!(null==u||null===(r=u.extendedPreviewContent)||void 0===r||!r.isFullContent),Lt=A&&!N&&v.createElement("hr",{className:Ne(Je)}),Ft=B&&v.createElement("hr",{className:Ne(Je)}),Ut=he?{}:N?Xe:Ze,jt={postId:Ye,collectionId:null==Qe?void 0:Qe.id,isFullPost:null==nt?void 0:nt.isFullContent,postVisibility:(0,W.z)(ut),context:2,pinned:Boolean(st)},Wt="User"===(null==L?void 0:L.__typename)&&u.collection?u.collection:u.creator,Ht="User"===(null==L?void 0:L.__typename)?ct:st,zt="number"==typeof(0,k.LI)(Mt.paragraphs).titleIndex?void 0:40,Gt=v.createElement(v.Fragment,{key:"card-byline-and-mixtape"},he&&u.creator?v.createElement(Ee,{creator:u.creator,collection:u.collection,href:$e,datePrefix:Dt,publishedAt:Tt,showStar:!!rt,showPinned:de&&!!Ht,post:u,showPublisherInfo:ve}):Wt&&v.createElement(H.u_,{publisher:Wt,hideAuthor:X,href:$e,isOneLine:!0,datePrefix:Dt,publishedAt:Tt,showStar:!!rt,showPinned:de&&!!Ht,post:u}),se&&v.createElement(w.hM,{inResponseToCatalogResult:pt,inResponseToPostResult:dt,inResponseToMediaResource:mt,padding:"24px 0 0",postPreviewMarginBottom:zt})),Vt=Mt.paragraphs[0]&&tt.includes(Mt.paragraphs[0].type)&&Mt.paragraphs[0].name,$t=Mt.paragraphs[1]&&et.includes(Mt.paragraphs[1].type)&&Mt.paragraphs[1].name,Kt=L||u.creator,qt=!(Nt||De||Ie||!lt||!Kt),Yt=rt&&(2===Mt.paragraphs.length||3===Mt.paragraphs.length)&&1===Ct.sections.length&&$t&&Vt,Qt=Mt.paragraphs[0],Jt=Mt.paragraphs[1],Xt={insertType:"BYLINE",order:"before",component:Gt},Zt={insertType:"MEDIA_OVERLAY",order:"after",component:v.createElement(j,{key:"shortform-media-overlay-insert",href:$e,onReadMore:It})},en=null!=Jt&&Jt.name&&null!=Qt&&Qt.name?(i={},a()(i,Jt.name,[Xt]),a()(i,Qt.name,[Zt]),i):{},tn=Yt&&!De,nn=!pe||De;return v.createElement(K.cW,{source:je},v.createElement(R.x,o()({ref:Se,boxSizing:"content-box",marginLeft:"auto",marginRight:"auto"},f?{}:Ut),v.createElement(G.P,{size:ye},Lt,v.createElement(q.o,{post:u,presentationContext:"POST_PREVIEW",isDisplayingFullPost:Nt||De,suppressedEvents:Nt?"VIEWED":void 0,shouldReportClientViewed:De,reportClientViewedOnFullPost:!0,postClientViewedContext:2,pinned:!!st},v.createElement(R.x,{sm:{marginTop:Lt?Yt?"48px":"24px":void 0},marginTop:Lt?Yt?"72px":"24px":void 0},Wt&&!Yt&&Gt,he&&De&&v.createElement(ce,{expansionRef:Se}),v.createElement(R.x,{marginTop:Yt?"":"12px",ref:qe},v.createElement(te.O1,{event:{eventName:"post.permalinkClicked",data:Ke(Ke({},jt),{},{interfaceElement:"title"})}},v.createElement(ze,{post:u,reason:ge,publisherContext:null===(l=u.creator)||void 0===l?void 0:l.__typename,showPreview:pe,showContent:Ie||De,onReadMore:It,onHoverReadMore:_t},v.createElement(v.Fragment,null,v.createElement(I.bl,{isAuroraPostPageEnabled:!0,post:De?Me:null,inlinePost:u,ref:be,richTextStyle:tn?"SHORTFORM_CARD":"INLINE",postBodyInserts:tn?en:null,markedUpBodyModel:Mt}),Ie&&v.createElement(R.x,{paddingTop:"24px"},v.createElement(M,null))))))),qt&&!pe&&v.createElement(V.D,{onMouseEnter:_t,onMouseLeave:function(){}},v.createElement(U,{onReadMore:It,post:u,padding:Yt?"24px 0 0 0":void 0})),Me&&kt&&v.createElement(S.cu,{post:Me,meteringInfo:kt,excludePadding:!0}))),v.createElement(R.x,{marginTop:pe&&!De?void 0:"36px"}),u&&nn&&v.createElement(h.T,{isDockingEnabled:he&&De,maxWidthSize:ye},v.createElement(Oe,{post:u,publisherContext:null===(c=u.creator)||void 0===c?void 0:c.__typename})),pe&&De&&v.createElement(R.x,{paddingBottom:"32px"})),B&&v.createElement(G.P,{size:ye},Ft))}},61982:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var r=n(319),o=n.n(r),i=n(66921),a=n(56029),l=n(39186),s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"HighDensityPreview_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TopicPill_tag"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookmarkButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"TruncatedPostCardOverflowButton_post"}}]}}].concat(o()(i.B.definitions),o()(a.z.definitions),o()(l.r.definitions))}},21204:(e,t,n)=>{"use strict";n.d(t,{q:()=>a});var r=n(319),o=n.n(r),i=n(88833),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ReadMore_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}}]}}].concat(o()(i.u.definitions))}},32149:(e,t,n)=>{"use strict";n.d(t,{$:()=>u,G:()=>d});var r=n(28655),o=n.n(r),i=n(71439),a=n(53976),l=n(76532),s=n(32589);function c(){var e=o()(["\n  fragment useShouldShowEntityDrivenSubscription_creator on User {\n    id\n  }\n"]);return c=function(){return e},e}var u=function(e,t){var n,r,o=(0,l.H)().value,i=(0,s.Pd)(t).viewerEdge,c=(0,a.VB)({name:e,placeholder:!1}),u=null!==(n=null==o?void 0:o.mediumMemberAt)&&void 0!==n&&n,d=null==i?void 0:i.isAllowEdsEnabled,m=null!==(r=null==i?void 0:i.isUser)&&void 0!==r&&r;return!!t&&(d&&!(null!=o&&o.id)||d&&m||!!c&&d&&!u)},d=(0,i.Ps)(c())},37258:(e,t,n)=>{"use strict";n.d(t,{o:()=>y});var r=n(63038),o=n.n(r),i=n(28655),a=n.n(i),l=n(71439),s=n(80439),c=n(67294),u=n(66893),d=n(36511),m=n(90738),p=n(14414),g=n(95760),f=n(51512),v=n(11348),x=n(67297);function h(){var e=a()(["\n  mutation SendAcctAuthEmailByUserId(\n    $userId: String!\n    $redirect: String\n    $fullName: String\n    $captchaValue: String\n  ) {\n    sendAcctAuthEmailByUserId(\n      userId: $userId\n      redirect: $redirect\n      fullName: $fullName\n      captchaValue: $captchaValue\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return h=function(){return e},e}var E=(0,l.Ps)(h()),y=function(e){var t=e.actionUrl,n=e.children,r=e.onSuccess,i=e.token,a=e.userId,l=(0,g.Av)(),h=!!(0,u.P5)("skip_sign_in_recaptcha"),y=c.useState(!1),b=o()(y,2),S=b[0],w=b[1],P=(0,x.v9)((function(e){return e.navigation.currentLocation})),k=function(){w(!1)},I=(0,f.pK)(),_=(0,f.hp)(),R=t&&i?(0,p.hQ)(P,I,_,t,i):(0,p.hQ)(P,I,_),O=(0,d.r)(),A=O.loading,C=O.error,M=O.viewerId;return A||C?null:c.createElement(s.mm,{mutation:E,onCompleted:function(e){switch(e.sendAcctAuthEmailByUserId.__typename){case"SusiMethod":l.event("site.loginLinkSent",{}),r&&r();break;case"FailedChallenge":l.event("site.loginByEmailCaptchaFailure",{}),w(!1);break;case"BadRequest":case"NotFound":default:k()}},onError:k},(function(e){var t=function(t){(0,v.Zs)(!0,M,a,"Email",!1);var n="medium";l.event("susi.methodClicked",{entryPoint:_,operation:"login",susiMethod:n.toLowerCase(),alternateUserSuggestionShown:!0,alternateUserSuggestionAccountType:n.toLowerCase(),alternateUserSuggestionTargetUserId:a,alternateUserSuggestionSourceUserId:M}),e({variables:{userId:a,redirect:R,captchaValue:t}})};return c.createElement(c.Fragment,null,!h&&c.createElement(m.k,{callback:t,shouldExecuteRecaptcha:S}),n({handleSubmit:function(){return h?t(null):w(!0)}}))}))}},19608:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var r=n(67294),o=n(90174),i=n(4134),a=n(70146),l=n(37581),s=function(e){var t=e.actionUrl,n=e.token,s=e.userSocialLogins,c={actionUrl:t||"",operation:"login",token:n||"",targetUserId:s.userId,alternateUserSuggestion:!0};return r.createElement(l.$,{eventData:{operation:c.operation}},s.google?r.createElement(i.x,c):s.facebook?r.createElement(o.q,c):s.twitter?r.createElement(a.G,c):r.createElement(r.Fragment,null))}},27168:(e,t,n)=>{"use strict";n.d(t,{G:()=>p});var r=n(59713),o=n.n(r),i=n(67294),a=n(12291),l=n(76532),s=n(82318),c=n(51512),u=n(85277),d=n(67297);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var p=function(e){var t=e.declineSuggestedAccount,n=e.isSocial,r=(0,d.v9)((function(e){return e.navigation.hasRenderedAlternateUserBanner})),p=(0,c.hp)(),g=(0,a.I0)(),f=(0,l.H)(),v=f.loading,x=f.error,h=f.value;if(v||x)return i.createElement(i.Fragment,null);var E=function(e){return e?i.createElement(s.r,{onClick:function(){return y("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"See all login options"):i.createElement(i.Fragment,null,"Not you?"," ",i.createElement(s.r,{onClick:function(){return y("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"Sign in")," or ",i.createElement(s.r,{onClick:function(){return y("SIGNUP_OPTIONS")},linkStyle:"OBVIOUS"},"create an account"))},y=function(e){var n="SIGNIN_OPTIONS"===e?"login":"register";t(),g((0,u.Pc)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({operation:n,step:e},!!p&&{susiEntry:p})))};return r?E(h):h?i.createElement(s.r,{onClick:function(){return t()}},"Not me"):E(n)}},48881:(e,t,n)=>{"use strict";n.d(t,{o:()=>b});var r=n(28655),o=n.n(r),i=n(59713),a=n.n(i),l=n(63038),s=n.n(l),c=n(71439),u=n(80439),d=n(67294),m=n(76532),p=n(36511),g=n(95760),f=n(51512),v=n(33572),x=n(8403);function h(){var e=o()(["\n  query UserSocialLoginsQuery($userId: String!) {\n    userSocialLogins(userId: $userId) {\n      userId\n      twitter\n      facebook\n      google\n      redactedEmailAddress\n      isMember\n      emailAddress\n      userAvatar {\n        __typename\n        username\n        name\n        imageId\n        mediumMemberAt\n      }\n    }\n  }\n"]);return h=function(){return e},e}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t=e.children,n=e.postRenderCallback,r=(0,g.Av)(),o=(0,f.hp)(),i=(0,x.PM)(),a=(0,f.P7)(i||""),l=a.userId,c=a.name,h=d.useState({shouldRun:!1,showSuggestedAccount:!1,userSocialLogins:{facebook:!1,google:!1,twitter:!1,redactedEmailAddress:"",emailAddress:"",userAvatar:{__typename:"UserAvatar",username:"",name:"",imageId:"",mediumMemberAt:0},userId:"",isMember:!1}}),E=s()(h,2),b=E[0],w=E[1];d.useEffect((function(){var e=b.shouldRun,t=b.showSuggestedAccount,r=b.userSocialLogins;e&&n(P,t,r)}),[b.shouldRun]);var P=(0,m.H)().value,k=(0,p.r)(),I=k.loading,_=k.error,R=k.viewerId;if(I||_)return null;var O=!("email"!==c||P&&P.mediumMemberAt||!l);return O&&l?d.createElement(u.AE,{query:S,variables:{userId:l}},(function(e){var i=e.loading,a=e.error,l=e.data,s=(l=void 0===l?{}:l).userSocialLogins,c=!(i||a||!s||P&&!s.isMember||!s.facebook&&!s.google&&!s.twitter&&!s.redactedEmailAddress),u=y({loading:i,showSuggestedAccount:c},c&&{userSocialLogins:s,declineSuggestedAccount:function(){var e=(0,v.S)(s);r.event("susi.suggestNotYou",{entryPoint:o,susiMethod:e,alternateUserSuggestionAccountType:e,alternateUserSuggestionTargetUserId:null==s?void 0:s.userId,alternateUserSuggestionSourceUserId:R})}});return!n||i||b.shouldRun||w({shouldRun:!0,showSuggestedAccount:c,userSocialLogins:s}),t(u)})):(n&&!b.shouldRun&&w(y(y({},b),{},{shouldRun:!0})),t({showSuggestedAccount:O,loading:!1}))},S=(0,c.Ps)(h())},5731:(e,t,n)=>{"use strict";var r;n.d(t,{j:()=>r}),function(e){e.LOHighlightCTA="lo_highlight_cta",e.LIHighlightCTA="li_highlight_cta",e.RegWall="regwall",e.SyndicatedRegwall="syndicated_regwall"}(r||(r={}))},58491:(e,t,n)=>{"use strict";n.d(t,{t:()=>h,W:()=>E});var r=n(28655),o=n.n(r),i=n(63038),a=n.n(i),l=n(71439),s=n(67294),c=n(12291),u=n(50188),d=n(95760),m=n(51512),p=n(27108),g=n(85277),f=n(8403),v=n(21146);function x(){var e=o()(["\n  fragment PostReadTracker_post on Post {\n    id\n    collection {\n      slug\n    }\n    sequence {\n      sequenceId\n    }\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n  }\n"]);return x=function(){return e},e}function h(e,t,n,r){var o=(0,d.Av)(),i=(0,m.pK)(),l=(0,f.he)(),x=s.useState(!1),h=a()(x,2),E=h[0],y=h[1],b=(0,c.I0)();s.useEffect((function(){if(!E&&n){var a=function(){if(t.current&&!E){var a=(0,v.L6)(t.current),s=(0,v.tM)(a),c=s.top+s.height,d=(0,v.tM)((0,v.t_)()),m=d.top+d.height,p=n.content.isLockedPreviewOnly,f=r||i.includes("post_page");if(!p&&m>=c-100&&f){y(!0),b((0,g.C2)(!0));var x={source:r?"post_page":i,postId:n.id,collectionSlug:n.collection?n.collection.slug:"",sequenceId:n.sequence?n.sequence.sequenceId:""},h={referrer:l,referrerSource:i};r?o.event("post.clientRead",x,h):o.event("post.clientRead",x),e||(0,u.T8)(n.id)}}};return p.V6.on("scroll_end",a),function(){p.V6.off("scroll_end",a)}}}),[E,n,r]),s.useEffect((function(){return function(){b((0,g.C2)(!1))}}),[])}var E=(0,l.Ps)(x())},2874:(e,t,n)=>{"use strict";n.d(t,{k1:()=>A,EA:()=>C,d0:()=>D,_k:()=>N});var r=n(28655),o=n.n(r),i=n(71439),a=n(67294),l=n(60046),s=n(62872),c=n(43689),u=n(51562),d=n(47578),m=n(71542),p=n(76532),g=n(62181),f=n(11852),v=n(75209),x=n(42933),h=n(55099),E=n(82318),y=n(98024),b=n(17614),S=n(95760),w=n(51512),P=n(67297),k=n(6522),I=n(96879),_=n(27952),R=n(61598);function O(){var e=o()(["\n  fragment EntityDrivenSubscriptionLandingPageScreen_writer on User {\n    name\n    imageId\n    id\n    username\n    isPartnerProgramEnrolled\n    ...userUrl_user\n  }\n  ","\n"]);return O=function(){return e},e}var A="f73713ca13c3",C="a2ace5bcce17",M="entity-driven-sub-landing-page",B=function(){return a.createElement(s.l,{borderColor:"rgb(230 230 230)",height:c.Je,heightSm:c.R2},a.createElement(v.P,null,a.createElement(x.x,{display:"flex",alignItems:"center",height:"".concat(c.Je,"px"),sm:{height:"".concat(c.R2,"px")},flexDirection:"row"},a.createElement(x.x,{justifySelf:"flex-start",flexGrow:"1"},a.createElement(l.Rv,{size:"S"})),a.createElement(T,null))))},T=function(){return(0,p.H)().value?null:a.createElement(x.x,{justifySelf:"flex-end"},a.createElement(y.F,{scale:"L"},a.createElement(x.x,{display:"flex",flexDirection:"row",sm:{flexDirection:"column"}},a.createElement(x.x,{paddingRight:"4px"},"Already a member?"),a.createElement(g.R9,{operation:"login",linkStyle:"OBVIOUS",susiEntry:"entity_driven_subscription_lp"},"Sign in"))))},D=function(e){var t,n,r=e.user,o=e.redirectExperiment,i=e.postId,l=(0,P.v9)((function(e){return e.config.authDomain})),s=(0,w.pK)(),c=(0,p.H)().value,g=(0,S.Av)();a.useEffect((function(){g.event("entityDrivenSubscriptionPage.viewed",{creatorId:null==r?void 0:r.id,source:s})}),[]);var R=a.useCallback((function(){g.event("entityDrivenSubCallToAction.clicked",{userId:null==c?void 0:c.id,entityId:null==r?void 0:r.id})}),[r,null==c?void 0:c.id,l]);if(!r)return null;var O=null!==(t=r.name)&&void 0!==t?t:"",A=null!==(n=r.imageId)&&void 0!==n?n:k.gG,C=r.id,T=(0,_.AWr)(r,l),D=(0,I.Rk)((0,_.c5p)(l),{subscribeToUserId:C}),N=i?(0,_.o2w)(l,i):T,L=null!=c&&c.mediumMemberAt?T:D;return(0,d.KQ)({},O),a.createElement(a.Fragment,null,a.createElement(w.cW,{source:{name:"entity_driven_subscription",userId:C}},a.createElement(x.x,{display:"flex",height:"100vh",flexDirection:"column"},a.createElement(B,null),a.createElement(x.x,{display:"flex",height:"0",flexGrow:"1",textAlign:"center",justifyContent:"center",alignItems:"center",flexDirection:"column"},a.createElement(v.P,{size:"inset"},a.createElement(x.x,{display:"flex",paddingBottom:"32px",justifyContent:"center"},a.createElement(m.s,null,a.createElement(f.z,{miroId:A,alt:O||"",diameter:128,freezeGifs:!1})),a.createElement(m.e,null,a.createElement(f.z,{miroId:A,alt:O||"",diameter:80,freezeGifs:!1}))),a.createElement(x.x,{paddingBottom:"20px"},a.createElement(b.F1,{scale:{xs:"S",sm:"S",md:"L",lg:"L",xl:"L"}},a.createElement(u.W,{featureString:M,target:"title-copy"},"Read every story from ",O," (and thousands of other writers on Medium)."))),a.createElement(x.x,{paddingBottom:"20px"},a.createElement(y.F,{scale:"L",color:"DARKER"},a.createElement(u.W,{featureString:M,target:"description-copy"},"Your membership fee directly supports ",O," and other writers you read. You'll also get full access to every story on Medium."))),a.createElement(x.x,{display:"flex",paddingBottom:"20px",flexDirection:{xs:o?"column-reverse":void 0,sm:o?"column-reverse":void 0,md:void 0,lg:void 0,xl:void 0},justifyContent:"center"},o&&a.createElement(x.x,{paddingRight:{xs:void 0,sm:void 0,md:"12px",lg:"12px",xl:"12px"},paddingTop:{xs:"12px",sm:"12px",md:void 0,lg:void 0,xl:void 0}},a.createElement(h.z,{href:N,buttonStyle:"OBVIOUS",size:"LARGE"},"Not now")),a.createElement(x.x,null,a.createElement(h.z,{onClick:R,href:L,buttonStyle:"STRONG",size:"LARGE"},a.createElement(u.W,{featureString:M,target:"logged-in-button-copy"},"Become a member")))),!o&&a.createElement(y.F,{scale:"L",color:"DARKER",tag:"span"},a.createElement(E.r,{linkStyle:"SUBTLE",href:T},a.createElement(u.W,{featureString:M,target:"link-copy"},"Visit ",O,"'s profile"))))))))},N=(0,i.Ps)(O(),R.$)},33572:(e,t,n)=>{"use strict";function r(e){if((e.match(/ /g)||[]).length>1)return"";var t=e.indexOf(" ");return e.substring(0,t)}function o(e){return e.google?"google":e.facebook?"facebook":e.twitter?"twitter":"medium"}n.d(t,{J:()=>r,S:()=>o})}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/9997.41cda394.chunk.js.map